!function(t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):"undefined"!=typeof window?window.triplesec=t():"undefined"!=typeof global?global.triplesec=t():"undefined"!=typeof self&&(self.triplesec=t())}(function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return i(n?n:t)},a,a.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){(function(){var e,r,i,o,s,u={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("./algbase").BlockCipher,s=t("./util").scrub_vec,o=function(){function t(){var t;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var e,n;for(n=[],t=e=0;4>e;t=++e)n.push([]);return n}(),this.INV_SUB_MIX=function(){var e,n;for(n=[],t=e=0;4>e;t=++e)n.push([]);return n}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}return t.prototype.init=function(){var t,e,n,r,i,o,s,u,c,a;for(t=function(){var t,n;for(n=[],e=t=0;256>t;e=++t)n.push(128>e?e<<1:e<<1^283);return n}(),i=0,c=0,e=a=0;256>a;e=++a)n=c^c<<1^c<<2^c<<3^c<<4,n=n>>>8^255&n^99,this.SBOX[i]=n,this.INV_SBOX[n]=i,o=t[i],s=t[o],u=t[s],r=257*t[n]^16843008*n,this.SUB_MIX[0][i]=r<<24|r>>>8,this.SUB_MIX[1][i]=r<<16|r>>>16,this.SUB_MIX[2][i]=r<<8|r>>>24,this.SUB_MIX[3][i]=r,r=16843009*u^65537*s^257*o^16843008*i,this.INV_SUB_MIX[0][n]=r<<24|r>>>8,this.INV_SUB_MIX[1][n]=r<<16|r>>>16,this.INV_SUB_MIX[2][n]=r<<8|r>>>24,this.INV_SUB_MIX[3][n]=r,0===i?i=c=1:(i=o^t[t[t[u^o]]],c^=t[t[c]]);return!0},t}(),i=new o,e=function(t){function e(t){this._key=t.clone(),this._doReset()}return c(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=e.blockSize,e.prototype.ivSize=e.ivSize,e.prototype._doReset=function(){var t,e,n,r,o,s,u,c;for(n=this._key.words,e=this._key.sigBytes/4,this._nRounds=e+6,o=4*(this._nRounds+1),this._keySchedule=[],r=u=0;o>=0?o>u:u>o;r=o>=0?++u:--u)this._keySchedule[r]=e>r?n[r]:(s=this._keySchedule[r-1],r%e===0?(s=s<<8|s>>>24,s=i.SBOX[s>>>24]<<24|i.SBOX[s>>>16&255]<<16|i.SBOX[s>>>8&255]<<8|i.SBOX[255&s],s^=i.RCON[r/e|0]<<24):e>6&&r%e===4?s=i.SBOX[s>>>24]<<24|i.SBOX[s>>>16&255]<<16|i.SBOX[s>>>8&255]<<8|i.SBOX[255&s]:void 0,this._keySchedule[r-e]^s);for(this._invKeySchedule=[],t=c=0;o>=0?o>c:c>o;t=o>=0?++c:--c)r=o-t,s=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=4>t||4>=r?s:i.INV_SUB_MIX[0][i.SBOX[s>>>24]]^i.INV_SUB_MIX[1][i.SBOX[s>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[s>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&s]];return!0},e.prototype.encryptBlock=function(t,e){return null==e&&(e=0),this._doCryptBlock(t,e,this._keySchedule,i.SUB_MIX,i.SBOX)},e.prototype.decryptBlock=function(t,e){var n,r;return null==e&&(e=0),n=[t[e+3],t[e+1]],t[e+1]=n[0],t[e+3]=n[1],this._doCryptBlock(t,e,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX),r=[t[e+3],t[e+1]],t[e+1]=r[0],t[e+3]=r[1],r},e.prototype.scrub=function(){return s(this._keySchedule),s(this._invKeySchedule),this._key.scrub()},e.prototype._doCryptBlock=function(t,e,n,r,i){var o,s,u,c,a,f,l,h,p,y,d,_;for(u=t[e]^n[0],c=t[e+1]^n[1],a=t[e+2]^n[2],f=t[e+3]^n[3],o=4,s=d=1,_=this._nRounds;_>=1?_>d:d>_;s=_>=1?++d:--d)l=r[0][u>>>24]^r[1][c>>>16&255]^r[2][a>>>8&255]^r[3][255&f]^n[o++],h=r[0][c>>>24]^r[1][a>>>16&255]^r[2][f>>>8&255]^r[3][255&u]^n[o++],p=r[0][a>>>24]^r[1][f>>>16&255]^r[2][u>>>8&255]^r[3][255&c]^n[o++],y=r[0][f>>>24]^r[1][u>>>16&255]^r[2][c>>>8&255]^r[3][255&a]^n[o++],u=l,c=h,a=p,f=y;return l=(i[u>>>24]<<24|i[c>>>16&255]<<16|i[a>>>8&255]<<8|i[255&f])^n[o++],h=(i[c>>>24]<<24|i[a>>>16&255]<<16|i[f>>>8&255]<<8|i[255&u])^n[o++],p=(i[a>>>24]<<24|i[f>>>16&255]<<16|i[u>>>8&255]<<8|i[255&c])^n[o++],y=(i[f>>>24]<<24|i[u>>>16&255]<<16|i[c>>>8&255]<<8|i[255&a])^n[o++],t[e]=l,t[e+1]=h,t[e+2]=p,t[e+3]=y},e}(r),n.AES=e}).call(this)},{"./algbase":2,"./util":23}],2:[function(t,e,n){(function(){var e,r,i,o,s,u,c={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("./wordarray").WordArray,u=t("./util"),r=function(){function t(){this.reset()}return t.prototype._minBufferSize=0,t.prototype.reset=function(){return this._data=new s,this._nDataBytes=0},t.prototype._append=function(t){return this._data.concat(t),this._nDataBytes+=t.sigBytes},t.prototype._process=function(t){var e,n,r,i,o,u,c,a,f,l,h;if(n=this._data,i=n.words,r=n.sigBytes,e=4*this.blockSize,o=r/e,o=t?Math.ceil(o):Math.max((0|o)-this._minBufferSize,0),c=o*this.blockSize,u=Math.min(4*c,r),c){for(a=l=0,h=this.blockSize;h>0?c>l:l>c;a=l+=h)this._doProcessBlock(i,a);f=i.splice(0,c),n.sigBytes-=u}return new s(f,u)},t.prototype.copy_to=function(t){return t._data=this._data.clone(),t._nDataBytes=this._nDataBytes},t.prototype.clone=function(){var e;return e=new t,this.copy_to(e),e},t}(),i=function(t){function e(){e.__super__.constructor.call(this)}return a(e,t),e.prototype.reset=function(){return e.__super__.reset.call(this),this._doReset(),this},e.prototype.update=function(t){return this._append(t),this._process(),this},e.prototype.finalize=function(t){return t&&this._append(t),this._doFinalize()},e.prototype.bufhash=function(t){var e,n,r;return n=s.from_buffer(t),r=this.finalize(n),e=r.to_buffer(),n.scrub(),r.scrub(),e},e}(r),n.BlockCipher=e=function(){function t(){}return t.prototype.encryptBlock=function(){},t}(),o=function(){function t(){}return t.prototype.encryptBlock=function(t,e){var n,r;return null==e&&(e=0),r=this.get_pad(),n=Math.min(t.words.length-e,this.bsiw),t.xor(r,{dst_offset:e,n_words:n}),r.scrub(),this.bsiw},t.prototype.encrypt=function(t){var e,n,r,i;for(e=n=0,r=t.words.length,i=this.bsiw;i>0?r>n:n>r;e=n+=i)this.encryptBlock(t,e);return t},t.prototype.bulk_encrypt=function(t,e){var n,r,i,o,s;return r=t.input,i=t.progress_hook,s=t.what,o={update:function(t){return function(e,n){var i,o,s,u;for(u=[],i=o=e,s=t.bsiw;s>0?n>o:o>n;i=o+=s)u.push(t.encryptBlock(r,i));return u}}(this),finalize:function(){return r},default_n:1024*this.bsiw},n={progress_hook:i,cb:e,what:s},u.bulk(r.sigBytes,o,n)},t}(),n.BlockCipher=e,n.Hasher=i,n.BufferedBlockAlgorithm=r,n.StreamCipher=o}).call(this)},{"./util":23,"./wordarray":24}],3:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};f=t("./hmac"),i=f.HMAC,a=f.bulk_sign,s=t("./sha512").SHA512,o=t("./sha3").SHA3,u=t("./wordarray").WordArray,e=function(){function t(){this.hasherBlockSize=this.hashers[0].hasherBlockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.reset()}return t.prototype.reset=function(){var t,e,n,r;for(r=this.hashers,e=0,n=r.length;n>e;e++)t=r[e],t.reset();return this},t.prototype.update=function(t){var e,n,r,i;for(i=this.hashers,n=0,r=i.length;r>n;n++)e=i[n],e.update(t);return this},t.prototype.scrub=function(){var t,e,n,r;for(r=this.hashers,e=0,n=r.length;n>e;e++)t=r[e],t.scrub();return this},t.prototype.finalize=function(t){var e,n,r,i,o,s;for(n=function(){var n,r,i,o;for(i=this.hashers,o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(e.finalize(t));return o}.call(this),r=n[0],s=n.slice(1),i=0,o=s.length;o>i;i++)e=s[i],this._coalesce(r,e),e.scrub();return r},t}(),r=function(t){function e(t,n){var r,u,c,a,f;null==n&&(n=[s,o]),f=t.split(n.length),this.hashers=function(){var t,e,o;for(o=[],u=t=0,e=n.length;e>t;u=++t)c=n[u],a=f[u],r=new i(a,c),a.scrub(),o.push(r);return o}(),e.__super__.constructor.call(this)}return h(e,t),e.get_output_size=function(){return s.output_size+o.output_size},e.prototype._coalesce=function(t,e){return t.concat(e)},e.prototype.get_output_size=function(){var t,e,n,r,i;for(e=0,i=this.hashers,n=0,r=i.length;r>n;n++)t=i[n],e+=t.get_output_size();return e},e.sign=function(t){var n,r;return r=t.key,n=t.input,new e(r).finalize(n)},e.bulk_sign=function(t,n){return t.klass=e,t.what="HMAC-SHA512-SHA3",a(t,n)},e}(e),c=function(t){function e(t,n){var r;null==n&&(n=[s,o]),this.hashers=function(){var e,o,s;for(s=[],e=0,o=n.length;o>e;e++)r=n[e],s.push(new i(t,r));return s}(),e.__super__.constructor.call(this)}return h(e,t),e.prototype.reset=function(){var t,n,r,i,o;for(e.__super__.reset.call(this),o=this.hashers,n=r=0,i=o.length;i>r;n=++r)t=o[n],t.update(new u([n]));return this},e.get_output_size=function(){return Math.max(s.output_size,o.output_size)},e.prototype._coalesce=function(t,e){return t.xor(e,{})},e.prototype.get_output_size=function(){var t;return Math.max.apply(Math,function(){var e,n,r,i;for(r=this.hashers,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.get_output_size());return i}.call(this))},e.sign=function(t){var n,r;return r=t.key,n=t.input,new e(r).finalize(n)},e.bulk_sign=function(t,n){return t.klass=e,t.what="HMAC-SHA512-XOR-SHA3",a(t,n)},e}(e),n.Concat=r,n.XOR=c}).call(this)},{"./hmac":8,"./sha3":19,"./sha512":21,"./wordarray":24}],4:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=t("iced-runtime"),a=f=function(){},o=t("./wordarray").WordArray,i=t("./algbase").StreamCipher,r=function(){function t(t){var e,n,r;r=t.value,n=t.len,this._value=null!=r?r.clone():(null==n?n=2:void 0,new o(function(){var t,r;for(r=[],e=t=0;n>=0?n>t:t>n;e=n>=0?++t:--t)r.push(0);return r}()))}return t.prototype.WORD_MAX=4294967295,t.prototype.inc=function(){var e,n;for(e=!0,n=this._value.words.length-1;e&&n>=0;)++this._value.words[n]>t.WORD_MAX?this._value.words[n]=0:e=!1,n--;return this},t.prototype.inc_le=function(){var e,n;for(e=!0,n=0;e&&n<this._value.words.length;)++this._value.words[n]>t.WORD_MAX?this._value.words[n]=0:e=!1,n++;return this},t.prototype.get=function(){return this._value},t.prototype.copy=function(){return this._value.clone()},t}(),e=function(t){function e(t){if(this.block_cipher=t.block_cipher,this.iv=t.iv,e.__super__.constructor.call(this),this.bsiw=this.block_cipher.blockSize/4,this.iv.sigBytes!==this.block_cipher.blockSize)throw new Error("IV is wrong length ("+this.iv.sigBytes+")");this.ctr=new r({value:this.iv})}return h(e,t),e.prototype.scrub=function(){return this.block_cipher.scrub()},e.prototype.get_pad=function(){var t;return t=this.ctr.copy(),this.ctr.inc(),this.block_cipher.encryptBlock(t.words),t},e}(i),u=function(t){var n,r,i,o,s;return n=t.block_cipher,o=t.iv,i=t.input,r=new e({block_cipher:n,iv:o}),s=r.encrypt(i),r.scrub(),s},s=function(t,n){var r,i,o,s,u,a,l,h,p,y;y=f,h=c.findDeferral(arguments),r=t.block_cipher,s=t.iv,o=t.input,u=t.progress_hook,l=t.what,i=new e({block_cipher:r,iv:s}),function(){return function(t){p=new c.Deferrals(t,{parent:h,filename:"/Users/max/src/keybase/triplesec/src/ctr.iced"}),i.bulk_encrypt({input:o,progress_hook:u,what:l},p.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:121})),p._fulfill()}}(this)(function(){return function(){return n(a)}}(this))},n.Counter=r,n.Cipher=e,n.encrypt=u,n.bulk_encrypt=s}).call(this)},{"./algbase":2,"./wordarray":24,"iced-runtime":38}],5:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l,h,p,y,d,_,g,w,b={}.hasOwnProperty,v=function(t,e){function n(){this.constructor=t}for(var r in e)b.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};p=t("iced-runtime"),_=g=function(){},f=t("./wordarray").WordArray,d=t("./salsa20"),e=t("./aes").AES,c=t("./twofish").TwoFish,l=t("./ctr"),i=t("./combine").Concat,s=t("./sha512").SHA512,u=t("./salsa20").Salsa20,w=t("./enc"),r=w.Base,a=w.V,y=t("iced-error").make_esc,o=function(t){function n(t){var e,r;r=t.key,e=t.enc,n.__super__.constructor.call(this,{key:r}),null!=e&&(this.key=e.key,this.derived_keys=e.derived_keys)}return v(n,t),n.prototype.read_header=function(t){var e,n;return e=null==(n=this.ct.unshift(2))?new Error("Ciphertext underrun in header"):null==(this.version=a[n.words[1]])?new Error("bad header; couldn't find a good version (got "+n.words[1]+")"):n.words[0]!==this.version.header[0]?new Error("Bad header: unrecognized magic value"):null,t(e)},n.prototype.verify_sig=function(t,e){var n,r,o,s,u,c;c=g,s=p.findDeferral(arguments),function(e){return function(c){return null==(o=e.ct.unshift(i.get_output_size()/4))?c(r=new Error("Ciphertext underrun in signature")):void!function(i){u=new p.Deferrals(i,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.verify_sig"}),e.sign({input:e.ct,key:t,salt:e.salt},u.defer({assign_fn:function(){return function(){return r=arguments[0],n=arguments[1]}}(),lineno:63})),u._fulfill()}(function(){return c(r=null!=r?r:o.equal(n)?null:new Error("Signature mismatch or bad decryption key"))})}}(this)(function(){return function(){return e(r)}}(this))},n.prototype.unshift_iv=function(t,e,n){var r,i;return r=null!=(i=this.ct.unshift(t/4))?null:new Error("Ciphertext underrun in "+e),n(r,i)},n.prototype.read_salt=function(t){var e;return e=null==(this.salt=this.ct.unshift(this.version.salt_size/4))?new Error("Ciphertext underrrun in read_salt"):null,t(e)},n.prototype.generate_keys=function(t,e){var n,r,i,o,s,u;u=g,o=p.findDeferral(arguments),i=t.progress_hook,function(t){return function(e){s=new p.Deferrals(e,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.generate_keys"}),t.kdf({salt:t.salt,progress_hook:i},s.defer({assign_fn:function(){return function(){return n=arguments[0],r=arguments[1]}}(),lineno:114})),s._fulfill()}}(this)(function(){return function(){return e(n,r)}}(this))},n.prototype.run=function(t,n){var r,i,o,s,a,l,h,d,_,w;w=g,d=p.findDeferral(arguments),o=t.data,l=t.progress_hook,s=y(n,"Decryptor::run"),this.ct=f.from_buffer(o),function(t){return function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.read_header(s(_.defer({lineno:141}))),_._fulfill()}}(this)(function(t){return function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.read_salt(s(_.defer({lineno:142}))),_._fulfill()}(function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.generate_keys({progress_hook:l},s(_.defer({assign_fn:function(t){return function(){return t.keys=arguments[0]}}(t),lineno:143}))),_._fulfill()}(function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.verify_sig(t.keys.hmac,s(_.defer({lineno:144}))),_._fulfill()}(function(){!function(n){_=new p.Deferrals(n,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.unshift_iv(e.ivSize,"AES",s(_.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:145}))),_._fulfill()}(function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.run_aes({iv:a,input:t.ct,key:t.keys.aes,progress_hook:l},s(_.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:146}))),_._fulfill()}(function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.unshift_iv(c.ivSize,"2fish",s(_.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:147}))),_._fulfill()}(function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.run_twofish({iv:a,input:t.ct,key:t.keys.twofish,progress_hook:l},s(_.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:148}))),_._fulfill()}(function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.unshift_iv(u.ivSize,"Salsa",s(_.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:149}))),_._fulfill()}(function(){!function(e){_=new p.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/dec.iced",funcname:"Decryptor.run"}),t.run_salsa20({iv:a,input:t.ct,key:t.keys.salsa20,output_iv:!1,progress_hook:l},s(_.defer({assign_fn:function(){return function(){return h=arguments[0]}}(),lineno:150}))),_._fulfill()}(function(){return n(null,h.to_buffer())})})})})})})})})})}}(this))},n}(r),h=function(t,e){var n,r,i,s,u,c,a,f,l;l=g,a=p.findDeferral(arguments),s=t.key,n=t.data,u=t.progress_hook,r=new o({key:s}),function(){return function(t){f=new p.Deferrals(t,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/dec.iced"}),r.run({data:n,progress_hook:u},f.defer({assign_fn:function(){return function(){return i=arguments[0],c=arguments[1]}}(),lineno:168})),f._fulfill()}}(this)(function(){return function(){return r.scrub(),e(i,c)}}(this))},n.Decryptor=o,n.decrypt=h}).call(this)},{"./aes":1,"./combine":3,"./ctr":4,"./enc":7,"./salsa20":14,"./sha512":21,"./twofish":22,"./wordarray":24,"iced-error":35,"iced-runtime":38}],6:[function(t,e,n){var r=t("__browserify_Buffer");(function(){var e,i,o,s,u,c,a,f,l,h,p;a=t("iced-runtime"),h=p=function(){},c=t("./hmac"),u=t("./combine").XOR,l=t("./sha512"),f=t("./sha3"),s=t("./wordarray").WordArray,o=t("./lock").Lock,i=function(){function t(t,e,n){this.hmac=n||c.sign,this.security_strength=256,t=this.check_entropy(t),e||(e=new s([])),this._instantiate(t,e)}return t.prototype.check_entropy=function(t,e){if(null==e&&(e=!1),8*t.sigBytes*2<(e?2:3)*this.security_strength)throw new Error("entropy must be at least "+1.5*this.security_strength+" bits.");return t},t.prototype._hmac=function(t,e){return this.hmac({key:t,input:e})},t.prototype._update=function(t){var e,n;return e=new s([0],1),null!=t&&(e=e.concat(t)),n=this.V.clone().concat(e),this.K=this._hmac(this.K,n),n.scrub(),e.scrub(),this.V=this._hmac(this.K,this.V),null!=t&&(n=this.V.clone().concat(new s([1<<24],1)).concat(t),this.K=this._hmac(this.K,n),n.scrub(),this.V=this._hmac(this.K,this.V)),null!=t?t.scrub():void 0},t.prototype._instantiate=function(t,e){var n,i,o;return o=t.concat(e),i=64,this.K=s.from_buffer(new r(function(){var t,e;for(e=[],n=t=0;i>=0?i>t:t>i;n=i>=0?++t:--t)e.push(0);return e}())),this.V=s.from_buffer(new r(function(){var t,e;for(e=[],n=t=0;i>=0?i>t:t>i;n=i>=0?++t:--t)e.push(1);return e}())),this._update(o),t.scrub(),this.reseed_counter=1},t.prototype.reseed=function(t){return this._update(this.check_entropy(t,!0)),this.reseed_counter=1},t.prototype.generate=function(t){var e,n,r;if(8*t>7500)throw new Error("generate cannot generate > 7500 bits in 1 call.");if(this.reseed_counter>=1e4)throw new Error("Need a reseed!");for(n=[],e=0;0===n.length||n.length*n[0].length*4<t;)this.V=this._hmac(this.K,this.V),n.push(this.V.words);return this._update(),this.reseed_counter+=1,new s((r=[]).concat.apply(r,n)).truncate(t)},t}(),e=function(){function t(t,e){this.gen_seed=t,this.hmac=e,this.drbg=null,this.lock=new o}return t.prototype.generate=function(t,e){var n,r,o,s,u;u=p,o=a.findDeferral(arguments),function(t){return function(e){s=new a.Deferrals(e,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),t.lock.acquire(s.defer({lineno:148})),s._fulfill()}}(this)(function(u){return function(){!function(t){return null!=u.drbg?t():void!function(t){s=new a.Deferrals(t,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),u.gen_seed(256,s.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:150})),s._fulfill()}(function(){return t(u.drbg=new i(r,null,u.hmac))})}(function(){!function(t){return u.drbg.reseed_counter>100?void!function(t){s=new a.Deferrals(t,{parent:o,filename:"/Users/max/src/keybase/triplesec/src/drbg.iced",funcname:"ADRBG.generate"}),u.gen_seed(256,s.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:153})),s._fulfill()}(function(){return t(u.drbg.reseed(r))}):t()}(function(){return n=u.drbg.generate(t),u.lock.release(),e(n)})})}}(this))},t}(),n.DRBG=i,n.ADRBG=e}).call(this)},{"./combine":3,"./hmac":8,"./lock":9,"./sha3":19,"./sha512":21,"./wordarray":24,__browserify_Buffer:26,"iced-runtime":38}],7:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l,h,p,y,d,_,g,w,b,v,m,k,S,E,B={}.hasOwnProperty,x=function(t,e){function n(){this.constructor=t}for(var r in e)B.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};g=t("iced-runtime"),k=S=function(){},p=t("./wordarray").WordArray,v=t("./salsa20"),e=t("./aes").AES,l=t("./twofish").TwoFish,d=t("./ctr"),E=t("./combine"),y=E.XOR,o=E.Concat,a=t("./sha512").SHA512,c=t("./pbkdf2").PBKDF2,f=t("./scrypt").Scrypt,m=t("./util"),b=t("./prng"),w=t("iced-error").make_esc,u=t("./hmac").HMAC_SHA256,h={1:{header:[479516638,1],salt_size:8,xsalsa20_rev:!0,kdf:{klass:c,opts:{c:1024,klass:y}},hmac_key_size:96},2:{header:[479516638,2],salt_size:16,xsalsa20_rev:!0,kdf:{klass:f,opts:{c:64,klass:y,N:12,r:8,p:1}},hmac_key_size:96},3:{header:[479516638,3],salt_size:16,xsalsa20_rev:!1,kdf:{klass:f,opts:{c:1,klass:u,N:15,r:8,p:1}},hmac_key_size:96}},n.CURRENT_VERSION=i=3,r=function(){function t(t){var e,n;if(e=t.key,n=t.version,this.version=h[null!=n?n:i],null==this.version)throw new Error("unknown version: "+n);this.set_key(e),this.derived_keys={}}return t.prototype.kdf=function(t,n){var r,i,o,s,u,c,a,f,h,y,d,_,w,b,m,k,E,B,x;x=S,E=g.findDeferral(arguments),b=t.salt,s=t.extra_keymaterial,_=t.progress_hook,function(t){return function(e){B=new g.Deferrals(e,{parent:E,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),t._check_scrubbed(t.key,"in KDF",n,B.defer({lineno:94})),B._fulfill()}}(this)(function(t){return function(){m=b.to_hex(),a=t.key.clone(),function(e){B=new g.Deferrals(e,{parent:E,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),t._check_scrubbed(a,"KDF",n,B.defer({lineno:102})),B._fulfill()}(function(){!function(n){if(null!=(f=t.derived_keys[m]))return n();t._kdf=new t.version.kdf.klass(t.version.kdf.opts),y={hmac:t.version.hmac_key_size,aes:e.keySize,twofish:l.keySize,salsa20:v.Salsa20.keySize},d=["hmac","aes","twofish","salsa20"],i=s||0;for(c in y)k=y[c],i+=k;r={dkLen:i,key:a,progress_hook:_,salt:b},function(e){B=new g.Deferrals(e,{parent:E,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.kdf"}),t._kdf.run(r,B.defer({assign_fn:function(){return function(){return w=arguments[0]}}(),lineno:121})),B._fulfill()}(function(){var e,r;for(f={},u=0,e=0,r=d.length;r>e;e++)c=d[e],k=y[c],h=k/4,o=u+h,f[c]=new p(w.words.slice(u,o)),u=o;return f.extra=new p(w.words.slice(o)).to_buffer(),n(t.derived_keys[m]=f)})}(function(){return n(null,f)})})}}(this))},t.prototype.set_key=function(t){var e;return null==t?this.scrub():(e=p.from_buffer(t),this.key&&this.key.equal(e)?void 0:(this.scrub(),this.key=e))},t.prototype._check_scrubbed=function(t,e,n,r){return null==t||t.is_scrubbed()?n(new Error(""+e+": Failed due to scrubbed key!"),null):r()},t.prototype.sign=function(t,e){var n,r,i,s,u,c,a,f;f=S,c=g.findDeferral(arguments),n=t.input,r=t.key,u=t.salt,s=t.progress_hook,function(t){return function(n){a=new g.Deferrals(n,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),t._check_scrubbed(r,"HMAC",e,a.defer({lineno:179})),a._fulfill()}}(this)(function(t){return function(){n=new p(t.version.header).concat(u).concat(n),function(t){a=new g.Deferrals(t,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.sign"}),o.bulk_sign({key:r,input:n,progress_hook:s},a.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:181})),a._fulfill()}(function(){return n.scrub(),e(null,i)})}}(this))},t.prototype.run_salsa20=function(t,e){var n,r,i,o,s,u,c,a,f,l;l=S,a=g.findDeferral(arguments),i=t.input,s=t.key,o=t.iv,u=t.output_iv,c=t.progress_hook,function(t){return function(n){f=new g.Deferrals(n,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),t._check_scrubbed(s,"Salsa20",e,f.defer({lineno:197})),f._fulfill()}}(this)(function(t){return function(){n={input:i,progress_hook:c,key:s,iv:o},t.version.xsalsa20_rev&&(n.key=s.clone().endian_reverse(),n.iv=o.clone().endian_reverse()),function(t){f=new g.Deferrals(t,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_salsa20"}),v.bulk_encrypt(n,f.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:209})),f._fulfill()}(function(){return u&&(r=o.clone().concat(r)),t.version.xsalsa20_rev&&(n.key.scrub(),n.iv.scrub()),e(null,r)})}}(this))},t.prototype.run_twofish=function(t,e){var n,r,i,o,s,u,c,a,f;f=S,c=g.findDeferral(arguments),i=t.input,s=t.key,o=t.iv,u=t.progress_hook,function(t){return function(n){a=new g.Deferrals(n,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),t._check_scrubbed(s,"TwoFish",e,a.defer({lineno:232})),a._fulfill()}}(this)(function(){return function(){n=new l(s),function(t){a=new g.Deferrals(t,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_twofish"}),d.bulk_encrypt({block_cipher:n,iv:o,input:i,progress_hook:u,what:"twofish"},a.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:234})),a._fulfill()}(function(){return n.scrub(),e(null,o.clone().concat(r))})}}(this))},t.prototype.run_aes=function(t,n){var r,i,o,s,u,c,a,f,l;l=S,a=g.findDeferral(arguments),o=t.input,u=t.key,s=t.iv,c=t.progress_hook,function(t){return function(e){f=new g.Deferrals(e,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),t._check_scrubbed(u,"AES",n,f.defer({lineno:249})),f._fulfill()}}(this)(function(){return function(){r=new e(u),function(t){f=new g.Deferrals(t,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Base.run_aes"}),d.bulk_encrypt({block_cipher:r,iv:s,input:o,progress_hook:c,what:"aes"},f.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:251})),f._fulfill()}(function(){return r.scrub(),n(null,s.clone().concat(i))})}}(this))},t.prototype.scrub=function(){var t,e,n,r,i,o;if(null!=this.key&&this.key.scrub(),null!=this.derived_keys){o=this.derived_keys;for(n in o)for(e=o[n],r=0,i=e.length;i>r;r++)t=e[r],t.scrub()}return this.derived_keys={},null!=this.salt&&this.salt.scrub(),this.salt=null,this.key=null},t}(),s=function(t){function n(t){var e,r,i;e=t.key,r=t.rng,i=t.version,n.__super__.constructor.call(this,{key:e,version:i}),this.rng=r||b.generate}return x(n,t),n.prototype.pick_random_ivs=function(t,n){var r,i,o,s,u,c,a,f;f=S,c=g.findDeferral(arguments),s=t.progress_hook,r={aes:e.ivSize,twofish:l.ivSize,salsa20:v.Salsa20.ivSize},i={},function(t){return function(e){var n,s,f,l,h,p;l=r,f=function(){var t;t=[];for(s in l)t.push(s);return t}(),n=0,h=[],(p=function(e){var r,s,y;return r=function(){return e(h)},s=function(){return g.trampoline(function(){return++n,p(e)})},y=function(t){return h.push(t),s()},n<f.length?(o=f[n],u=l[o],void function(e){a=new g.Deferrals(e,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.pick_random_ivs"}),t.rng(u,a.defer({assign_fn:function(t,e){return function(){return t[e]=arguments[0]}}(i,o),lineno:353})),a._fulfill()}(y)):r()})(e)}}(this)(function(){return function(){return n(i)}}(this))},n.prototype.resalt=function(t,e){var n,r,i,o,s,u,c;c=S,s=g.findDeferral(arguments),o=t.salt,r=t.extra_keymaterial,i=t.progress_hook,n=null,function(t){return function(e){return null!=o?e(o.length!==t.version.salt_size?n=new Error("Need a salt of exactly "+t.version.salt_size+" bytes (got "+o.length+")"):t.salt=p.alloc(o)):void!function(e){u=new g.Deferrals(e,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),t.rng(t.version.salt_size,u.defer({assign_fn:function(t){return function(){return t.salt=arguments[0]}}(t),lineno:369})),u._fulfill()}(e)}}(this)(function(t){return function(){!function(e){return null!=n?e():void!function(e){u=new g.Deferrals(e,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.resalt"}),t.kdf({extra_keymaterial:r,progress_hook:i,salt:t.salt},u.defer({assign_fn:function(t){return function(){return n=arguments[0],t.keys=arguments[1]}}(t),lineno:375})),u._fulfill()}(e)}(function(){return e(n,t.keys)})}}(this))},n.prototype.run=function(t,e){var n,r,i,o,s,u,c,a,f,l,h,y,d,_,b;b=S,d=g.findDeferral(arguments),o=t.data,h=t.salt,u=t.extra_keymaterial,a=t.progress_hook,s=w(e,"Encryptor::run"),function(t){return function(e){return null==h&&null!=t.salt?e():void!function(e){_=new g.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.resalt({salt:h,extra_keymaterial:u,progress_hook:a},s(_.defer({lineno:406}))),_._fulfill()}(e)}}(this)(function(t){return function(){!function(e){_=new g.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.pick_random_ivs({progress_hook:a},_.defer({assign_fn:function(){return function(){return c=arguments[0]}}(),lineno:407})),_._fulfill()}(function(){f=p.from_buffer(o),function(e){_=new g.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_salsa20({input:f,key:t.keys.salsa20,progress_hook:a,iv:c.salsa20,output_iv:!0},s(_.defer({assign_fn:function(){return function(){return n=arguments[0]}}(),lineno:409}))),_._fulfill()}(function(){!function(e){_=new g.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_twofish({input:n,key:t.keys.twofish,progress_hook:a,iv:c.twofish},s(_.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:410}))),_._fulfill()}(function(){!function(e){_=new g.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.run_aes({input:r,key:t.keys.aes,progress_hook:a,iv:c.aes},s(_.defer({assign_fn:function(){return function(){return i=arguments[0]}}(),lineno:411}))),_._fulfill()}(function(){!function(e){_=new g.Deferrals(e,{parent:d,filename:"/Users/max/src/keybase/triplesec/src/enc.iced",funcname:"Encryptor.run"}),t.sign({input:i,key:t.keys.hmac,progress_hook:a,salt:t.salt},s(_.defer({assign_fn:function(){return function(){return y=arguments[0]}}(),lineno:412}))),_._fulfill()}(function(){return l=new p(t.version.header).concat(t.salt).concat(y).concat(i).to_buffer(),m.scrub_buffer(o),e(null,l)})})})})})}}(this))},n}(r),_=function(t,e){var n,r,i,o,u,c,a,f,l,h,p;p=S,l=g.findDeferral(arguments),o=t.key,n=t.data,a=t.rng,u=t.progress_hook,f=t.version,r=new s({key:o,rng:a,version:f}),function(){return function(t){h=new g.Deferrals(t,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/enc.iced"}),r.run({data:n,progress_hook:u},h.defer({assign_fn:function(){return function(){return i=arguments[0],c=arguments[1]}}(),lineno:440})),h._fulfill()}}(this)(function(){return function(){return r.scrub(),e(i,c)}}(this))},n.V=h,n.encrypt=_,n.Base=r,n.Encryptor=s}).call(this)},{"./aes":1,"./combine":3,"./ctr":4,"./hmac":8,"./pbkdf2":12,"./prng":13,"./salsa20":14,"./scrypt":15,"./sha512":21,"./twofish":22,"./util":23,"./wordarray":24,"iced-error":35,"iced-runtime":38}],8:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l,h={}.hasOwnProperty,p=function(t,e){
function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=t("iced-runtime"),f=l=function(){},o=t("./sha512").SHA512,i=t("./sha256").SHA256,a=t("./util"),e=function(){function t(t,e){var n,r,i;for(null==e&&(e=o),this.key=t.clone(),this.hasher=new e,this.hasherBlockSize=this.hasher.blockSize,this.hasherBlockSizeBytes=4*this.hasherBlockSize,this.key.sigBytes>this.hasherBlockSizeBytes&&(this.key=this.hasher.finalize(this.key)),this.key.clamp(),this._oKey=this.key.clone(),this._iKey=this.key.clone(),n=r=0,i=this.hasherBlockSize;i>=0?i>r:r>i;n=i>=0?++r:--r)this._oKey.words[n]^=1549556828,this._iKey.words[n]^=909522486;this._oKey.sigBytes=this._iKey.sigBytes=this.hasherBlockSizeBytes,this.reset()}return t.outputSize=64,t.prototype.outputSize=t.outputSize,t.prototype.get_output_size=function(){return this.hasher.output_size},t.prototype.reset=function(){return this.hasher.reset().update(this._iKey)},t.prototype.update=function(t){return this.hasher.update(t),this},t.prototype.finalize=function(t){var e,n,r;return e=this.hasher.finalize(t),this.hasher.reset(),n=this._oKey.clone().concat(e),r=this.hasher.finalize(n),e.scrub(),n.scrub(),r},t.prototype.scrub=function(){return this.key.scrub(),this._iKey.scrub(),this._oKey.scrub()},t}(),c=function(t){var n,r,i,o,s;return o=t.key,i=t.input,r=t.hash_class,n=new e(o,r),s=n.finalize(i.clamp()),n.scrub(),s},s=function(t,n){var r,i,o,s,c,f,h,p,y,d,_;_=l,y=u.findDeferral(arguments),o=t.key,i=t.input,c=t.progress_hook,s=t.klass,p=t.what,s||(s=e),p||(p="hmac_sha512"),r=new s(o),i.clamp(),h={update:function(t,e){return r.update(i.slice(t,e))},finalize:function(){return r.finalize()},default_n:1e3*r.hasherBlockSize},function(){return function(t){d=new u.Deferrals(t,{parent:y,filename:"/Users/max/src/keybase/triplesec/src/hmac.iced"}),a.bulk(i.sigBytes,h,{what:p,progress_hook:c,cb:d.defer({assign_fn:function(){return function(){return f=arguments[0]}}(),lineno:137})}),d._fulfill()}}(this)(function(){return function(){return r.scrub(),n(f)}}(this))},n.HMAC_SHA256=r=function(t){function e(t){e.__super__.constructor.call(this,t,i)}return p(e,t),e}(e),n.HMAC=e,n.sign=c,n.bulk_sign=s}).call(this)},{"./sha256":18,"./sha512":21,"./util":23,"iced-runtime":38}],9:[function(t,e,n){(function(){var e,r,i,o,s,u,c={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("iced-runtime"),s=u=function(){},e=function(){function t(){this._open=!0,this._waiters=[]}return t.prototype.acquire=function(t){return this._open?(this._open=!1,t()):this._waiters.push(t)},t.prototype.release=function(){var t;return this._waiters.length?(t=this._waiters.shift())():this._open=!0},t.prototype.open=function(){return this._open},t}(),r=function(t){function e(t,n){this.tab=t,this.name=n,e.__super__.constructor.call(this),this.refs=0}return a(e,t),e.prototype.incref=function(){return++this.refs},e.prototype.decref=function(){return--this.refs},e.prototype.release=function(){return e.__super__.release.call(this),0===this.decref()?delete this.tab[this.name]:void 0},e}(e),i=function(){function t(){this.locks={}}return t.prototype.create=function(t){var e;return e=new r(this,t),this.locks[t]=e},t.prototype.acquire=function(t,e,n){var r,i,s,c,a;a=u,s=o.findDeferral(arguments),r=this.locks[t]||this.create(t),i=r._open,r.incref(),function(){return function(t){return n||r._open?void!function(t){c=new o.Deferrals(t,{parent:s,filename:"/Users/max/src/keybase/triplesec/src/lock.iced",funcname:"Table.acquire"}),r.acquire(c.defer({lineno:68})),c._fulfill()}(t):t(r=null)}}(this)(function(){return function(){return e(r,i)}}(this))},t.prototype.lookup=function(t){return this.locks[t]},t}(),n.Lock=e,n.Table=i}).call(this)},{"iced-runtime":38}],10:[function(t,e,n){var r=t("__browserify_Buffer");(function(){var e,i,o,s,u;s=t("./enc");for(i in s)o=s[i],n[i]=o;u=t("./dec");for(i in u)o=u[i],n[i]=o;n.prng=t("./prng"),n.Buffer=r,n.WordArray=t("./wordarray").WordArray,n.util=t("./util"),n.ciphers={AES:t("./aes").AES,TwoFish:t("./twofish").TwoFish,Salsa20:t("./salsa20").Salsa20},n.hash={SHA1:t("./sha1").SHA1,SHA224:t("./sha224").SHA224,SHA256:t("./sha256").SHA256,SHA384:t("./sha384").SHA384,SHA512:t("./sha512").SHA512,SHA3:t("./sha3").SHA3,MD5:t("./md5").MD5},n.modes={CTR:t("./ctr")},n.scrypt=t("./scrypt").scrypt,n.pbkdf2=t("./pbkdf2").pbkdf2,n.hmac=e=t("./hmac"),n.HMAC_SHA256=e.HMAC_SHA256,n.HMAC=e.HMAC}).call(this)},{"./aes":1,"./ctr":4,"./dec":5,"./enc":7,"./hmac":8,"./md5":11,"./pbkdf2":12,"./prng":13,"./salsa20":14,"./scrypt":15,"./sha1":16,"./sha224":17,"./sha256":18,"./sha3":19,"./sha384":20,"./sha512":21,"./twofish":22,"./util":23,"./wordarray":24,__browserify_Buffer:26}],11:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=t("./wordarray").WordArray,s=t("./algbase").Hasher,i=function(){function t(){var t;this.T=function(){var e,n;for(n=[],t=e=0;64>e;t=++e)n.push(4294967296*Math.abs(Math.sin(t+1))|0);return n}()}return t}(),f=new i,n.MD5=c=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return h(n,t),n.blockSize=16,n.prototype.blockSize=n.blockSize,n.output_size=16,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new a([1732584193,4023233417,2562383102,271733878])},n.prototype._doProcessBlock=function(t,n){var i,s,c,a,l,h,p,y,d,_,g,w,b,v,m,k,S,E,B,x,T,D,P,A,U;for(P=U=0;16>U;P=++U)A=n+P,E=t[A],t[A]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8);return i=this._hash.words,s=t[n+0],c=t[n+1],_=t[n+2],g=t[n+3],w=t[n+4],b=t[n+5],v=t[n+6],m=t[n+7],k=t[n+8],S=t[n+9],a=t[n+10],l=t[n+11],h=t[n+12],p=t[n+13],y=t[n+14],d=t[n+15],B=i[0],x=i[1],T=i[2],D=i[3],B=e(B,x,T,D,s,7,f.T[0]),D=e(D,B,x,T,c,12,f.T[1]),T=e(T,D,B,x,_,17,f.T[2]),x=e(x,T,D,B,g,22,f.T[3]),B=e(B,x,T,D,w,7,f.T[4]),D=e(D,B,x,T,b,12,f.T[5]),T=e(T,D,B,x,v,17,f.T[6]),x=e(x,T,D,B,m,22,f.T[7]),B=e(B,x,T,D,k,7,f.T[8]),D=e(D,B,x,T,S,12,f.T[9]),T=e(T,D,B,x,a,17,f.T[10]),x=e(x,T,D,B,l,22,f.T[11]),B=e(B,x,T,D,h,7,f.T[12]),D=e(D,B,x,T,p,12,f.T[13]),T=e(T,D,B,x,y,17,f.T[14]),x=e(x,T,D,B,d,22,f.T[15]),B=r(B,x,T,D,c,5,f.T[16]),D=r(D,B,x,T,v,9,f.T[17]),T=r(T,D,B,x,l,14,f.T[18]),x=r(x,T,D,B,s,20,f.T[19]),B=r(B,x,T,D,b,5,f.T[20]),D=r(D,B,x,T,a,9,f.T[21]),T=r(T,D,B,x,d,14,f.T[22]),x=r(x,T,D,B,w,20,f.T[23]),B=r(B,x,T,D,S,5,f.T[24]),D=r(D,B,x,T,y,9,f.T[25]),T=r(T,D,B,x,g,14,f.T[26]),x=r(x,T,D,B,k,20,f.T[27]),B=r(B,x,T,D,p,5,f.T[28]),D=r(D,B,x,T,_,9,f.T[29]),T=r(T,D,B,x,m,14,f.T[30]),x=r(x,T,D,B,h,20,f.T[31]),B=o(B,x,T,D,b,4,f.T[32]),D=o(D,B,x,T,k,11,f.T[33]),T=o(T,D,B,x,l,16,f.T[34]),x=o(x,T,D,B,y,23,f.T[35]),B=o(B,x,T,D,c,4,f.T[36]),D=o(D,B,x,T,w,11,f.T[37]),T=o(T,D,B,x,m,16,f.T[38]),x=o(x,T,D,B,a,23,f.T[39]),B=o(B,x,T,D,p,4,f.T[40]),D=o(D,B,x,T,s,11,f.T[41]),T=o(T,D,B,x,g,16,f.T[42]),x=o(x,T,D,B,v,23,f.T[43]),B=o(B,x,T,D,S,4,f.T[44]),D=o(D,B,x,T,h,11,f.T[45]),T=o(T,D,B,x,d,16,f.T[46]),x=o(x,T,D,B,_,23,f.T[47]),B=u(B,x,T,D,s,6,f.T[48]),D=u(D,B,x,T,m,10,f.T[49]),T=u(T,D,B,x,y,15,f.T[50]),x=u(x,T,D,B,b,21,f.T[51]),B=u(B,x,T,D,h,6,f.T[52]),D=u(D,B,x,T,g,10,f.T[53]),T=u(T,D,B,x,a,15,f.T[54]),x=u(x,T,D,B,c,21,f.T[55]),B=u(B,x,T,D,k,6,f.T[56]),D=u(D,B,x,T,d,10,f.T[57]),T=u(T,D,B,x,v,15,f.T[58]),x=u(x,T,D,B,p,21,f.T[59]),B=u(B,x,T,D,w,6,f.T[60]),D=u(D,B,x,T,l,10,f.T[61]),T=u(T,D,B,x,_,15,f.T[62]),x=u(x,T,D,B,S,21,f.T[63]),i[0]=i[0]+B|0,i[1]=i[1]+x|0,i[2]=i[2]+T|0,i[3]=i[3]+D|0},n.prototype._doFinalize=function(){var t,e,n,r,i,o,s,u,c,a,f;for(n=this._data,r=n.words,u=8*this._nDataBytes,s=8*n.sigBytes,r[s>>>5]|=128<<24-s%32,c=Math.floor(u/4294967296),a=u,r[(s+64>>>9<<4)+15]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),r[(s+64>>>9<<4)+14]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n.sigBytes=4*(r.length+1),this._process(),i=this._hash,t=i.words,o=f=0;4>f;o=++f)e=t[o],t[o]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return i},n.prototype.copy_to=function(t){return n.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(s),e=function(t,e,n,r,i,o,s){var u;return u=t+(e&n|~e&r)+i+s,(u<<o|u>>>32-o)+e},r=function(t,e,n,r,i,o,s){var u;return u=t+(e&r|n&~r)+i+s,(u<<o|u>>>32-o)+e},o=function(t,e,n,r,i,o,s){var u;return u=t+(e^n^r)+i+s,(u<<o|u>>>32-o)+e},u=function(t,e,n,r,i,o,s){var u;return u=t+(n^(e|~r))+i+s,(u<<o|u>>>32-o)+e},n.transform=function(t){var e;return e=(new c).finalize(t),t.scrub(),e}}).call(this)},{"./algbase":2,"./wordarray":24}],12:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a;o=t("iced-runtime"),c=a=function(){},e=t("./hmac").HMAC,i=t("./wordarray").WordArray,u=t("./util"),r=function(){function t(t){this.klass=t.klass,this.c=t.c,this.c||(this.c=1024),this.klass||(this.klass=e)}return t.prototype._PRF=function(t){return this.prf.reset(),this.prf.finalize(t)},t.prototype._gen_T_i=function(t,e){var n,r,s,c,f,l,h,p,y,d;d=a,p=o.findDeferral(arguments),f=t.salt,r=t.i,s=t.progress_hook,s(0),l=f.clone().concat(new i([r])),n=this._PRF(l),c=n.clone(),r=1,function(t){return function(e){var i,a;i=[],(a=function(e){var f,l,d;if(f=function(){return e(i)},l=function(){return o.trampoline(function(){return a(e)})},d=function(t){return i.push(t),l()},!(r<t.c))return f();for(h=Math.min(t.c,r+128);h>r;)n=t._PRF(n),c.xor(n,{}),r++;s(r),function(t){y=new o.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2._gen_T_i"}),u.default_delay(0,0,y.defer({lineno:57})),y._fulfill()}(function(){return d(null)})})(e)}}(this)(function(){return function(){return s(r),e(c)}}(this))},t.prototype.run=function(t,e){var n,r,s,u,c,f,l,h,p,y,d,_,g,w,b,v,m,k;b=a,g=o.findDeferral(arguments),c=t.key,p=t.salt,r=t.dkLen,h=t.progress_hook,this.prf=new this.klass(c),n=this.prf.get_output_size(),f=Math.ceil(r/n),_=[],d=null,l=function(t){return function(e){return function(n){return"function"==typeof h?h({what:"pbkdf2",total:f*t.c,i:e*t.c+n}):void 0}}}(this),l(0)(0),function(t){return function(e){var n,r;u=1,v=1,m=f,k=m>v,n=[],(r=function(e){var i,s,c;return i=function(){return e(n)},s=function(){return o.trampoline(function(){return k?u+=1:u-=1,r(e)})},c=function(t){return n.push(t),s()},k===!0&&u>f||k===!1&&f>u?i():void!function(e){w=new o.Deferrals(e,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced",funcname:"PBKDF2.run"}),t._gen_T_i({salt:p,i:u,progress_hook:l(u-1)},w.defer({assign_fn:function(){return function(){return y=arguments[0]}}(),lineno:80})),w._fulfill()}(function(){return c(_.push(y.words))})})(e)}}(this)(function(t){return function(){var n;return l(f)(0),s=(n=[]).concat.apply(n,_),c.scrub(),t.prf.scrub(),t.prf=null,e(new i(s,r))}}(this))},t}(),s=function(t,e){var n,i,s,u,c,f,l,h,p,y,d;d=a,p=o.findDeferral(arguments),u=t.key,h=t.salt,c=t.klass,n=t.c,i=t.dkLen,l=t.progress_hook,s=new r({klass:c,c:n}),function(){return function(t){y=new o.Deferrals(t,{parent:p,filename:"/Users/max/src/keybase/triplesec/src/pbkdf2.iced"}),s.run({key:u,salt:h,dkLen:i,progress_hook:l},y.defer({assign_fn:function(){return function(){return f=arguments[0]}}(),lineno:106})),y._fulfill()}}(this)(function(){return function(){return e(f)}}(this))},n.pbkdf2=s,n.PBKDF2=r}).call(this)},{"./hmac":8,"./util":23,"./wordarray":24,"iced-runtime":38}],13:[function(t,e,n){var r=t("__browserify_Buffer");(function(){var e,i,o,s,u,c,a,f,l,h,p,y,d,_,g,w,b,v,m,k;if(f=t("iced-runtime"),_=g=function(){},h=t("more-entropy"),e=t("./drbg").ADRBG,o=t("./wordarray").WordArray,s=t("./combine").XOR,d=t("./util"),w=null,u=function(t){var e;return e=new Uint8Array(t),w(e),new r(e)},w=null!=(l="undefined"!=typeof window&&null!==window&&null!=(m=window.crypto)?m.getRandomValues:void 0)?l.bind(window.crypto):null!=(l="undefined"!=typeof window&&null!==window&&null!=(k=window.msCrypto)?k.getRandomValues:void 0)?l.bind(window.msCrypto):null,null!=w)b=u;else try{y=t("crypto").rng,null!=y&&(b=y)}catch(S){c=S}p=function(t){if(null==b)throw new Error('No rng found; tried requiring "crypto" and window.crypto');return b(t)},i=function(){function t(){this.meg=new h.Generator,this.adrbg=new e(function(t){return function(e,n){return t.gen_seed(e,n)}}(this),s.sign)}return t.prototype.now_to_buffer=function(){var t,e,n,i;return e=Date.now(),n=e%1e3,i=Math.floor(e/1e3),t=new r(8),t.writeUInt32BE(i,0),t.writeUInt32BE(n,4),t},t.prototype.gen_seed=function(t,e){var n,i,s,u,c,a,l,h,y;y=g,l=f.findDeferral(arguments),u=t/8,i=[],i.push(this.now_to_buffer()),function(e){return function(n){h=new f.Deferrals(n,{parent:l,filename:"/Users/max/src/keybase/triplesec/src/prng.iced",funcname:"PRNG.gen_seed"}),e.meg.generate(t,h.defer({assign_fn:function(){return function(){return a=arguments[0]}}(),lineno:83})),h._fulfill()}}(this)(function(t){return function(){var f,l;for(i.push(t.now_to_buffer()),i.push(new r(a)),i.push(p(u)),i.push(t.now_to_buffer()),s=r.concat(i),c=o.from_buffer(s),d.scrub_buffer(s),f=0,l=i.length;l>f;f++)n=i[f],d.scrub_buffer(n);return e(c)}}(this))},t.prototype.generate=function(t,e){return this.adrbg.generate(t,e)},t}(),v=null,a=function(t,e){return null==v&&(v=new i),v.generate(t,e)},n.PRNG=i,n.generate=a,n.native_rng=p}).call(this)},{"./combine":3,"./drbg":6,"./util":23,"./wordarray":24,__browserify_Buffer:26,"iced-runtime":38,"more-entropy":41}],14:[function(t,e,n){var r=t("__browserify_Buffer");(function(){var e,i,o,s,u,c,a,f,l,h,p,y,d,_,g,w,b,v,m={}.hasOwnProperty,k=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};_=t("iced-runtime"),w=b=function(){},v=t("./wordarray"),y=v.endian_reverse,f=v.WordArray,i=t("./ctr").Counter,d=t("./util").fixup_uint32,a=t("./algbase").StreamCipher,g=t("./util"),l=function(t,e){var n,r,i,o;for(r=i=0,o=e.length;o>i;r=++i)n=e[r],t[r]+=n;return!1},u=function(){function t(t){this.rounds=t}return t.prototype._core=function(t){"use asm";var e,n,r,i,o,s,u,c,a,f,l,h,p,y,d,_,g,w,b,v;for(r=t[0],i=t[1],l=t[2],h=t[3],p=t[4],y=t[5],d=t[6],_=t[7],g=t[8],w=t[9],o=t[10],s=t[11],u=t[12],c=t[13],a=t[14],f=t[15],e=b=0,v=this.rounds;b<v;e=b+=2)n=r+u|0,p^=n<<7|n>>>25,n=p+r|0,g^=n<<9|n>>>23,n=g+p|0,u^=n<<13|n>>>19,n=u+g|0,r^=n<<18|n>>>14,n=y+i|0,w^=n<<7|n>>>25,n=w+y|0,c^=n<<9|n>>>23,n=c+w|0,i^=n<<13|n>>>19,n=i+c|0,y^=n<<18|n>>>14,n=o+d|0,a^=n<<7|n>>>25,n=a+o|0,l^=n<<9|n>>>23,n=l+a|0,d^=n<<13|n>>>19,n=d+l|0,o^=n<<18|n>>>14,n=f+s|0,h^=n<<7|n>>>25,n=h+f|0,_^=n<<9|n>>>23,n=_+h|0,s^=n<<13|n>>>19,n=s+_|0,f^=n<<18|n>>>14,n=r+h|0,i^=n<<7|n>>>25,n=i+r|0,l^=n<<9|n>>>23,n=l+i|0,h^=n<<13|n>>>19,n=h+l|0,r^=n<<18|n>>>14,n=y+p|0,d^=n<<7|n>>>25,n=d+y|0,_^=n<<9|n>>>23,n=_+d|0,p^=n<<13|n>>>19,n=p+_|0,y^=n<<18|n>>>14,n=o+w|0,s^=n<<7|n>>>25,n=s+o|0,g^=n<<9|n>>>23,n=g+s|0,w^=n<<13|n>>>19,n=w+g|0,o^=n<<18|n>>>14,n=f+a|0,u^=n<<7|n>>>25,n=u+f|0,c^=n<<9|n>>>23,n=c+u|0,a^=n<<13|n>>>19,n=a+c|0,f^=n<<18|n>>>14;return[r,i,l,h,p,y,d,_,g,w,o,s,u,c,a,f]},t}(),s=function(t){function e(t,n){var r;if(e.__super__.constructor.call(this,20),this.key=t.clone().endian_reverse(),this.nonce=n.clone().endian_reverse(),(16!==this.key.sigBytes||8!==this.nonce.sigBytes)&&(32!==this.key.sigBytes||8!==(r=this.nonce.sigBytes)&&24!==r))throw new Error("Bad key/nonce lengths");24===this.nonce.sigBytes&&this.xsalsa_setup(),this.input=this.key_iv_setup(this.nonce,this.key),this._reset()}return k(e,t),e.prototype.sigma=f.from_buffer_le(new r("expand 32-byte k")),e.prototype.tau=f.from_buffer_le(new r("expand 16-byte k")),e.blockSize=64,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=24,e.prototype.ivSize=e.ivSize,e.prototype.scrub=function(){return this.key.scrub(),this.nonce.scrub(),g.scrub_vec(this.input)},e.prototype.xsalsa_setup=function(){var t,e;return t=new f(this.nonce.words.slice(0,4)),this.nonce=e=new f(this.nonce.words.slice(4)),this.key=this.hsalsa20(t,this.key)},e.prototype.hsalsa20=function(t,e){var n,r,i,o;return i=this.key_iv_setup(t,e),i[8]=t.words[2],i[9]=t.words[3],o=this._core(i),r=[0,5,10,15,6,7,8,9],o=function(){var t,e,i;for(i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(d(o[n]));return i}(),g.scrub_vec(i),new f(o)},e.prototype.key_iv_setup=function(t,e){var n,r,i,o,s,u,c,a;for(o=[],i=s=0;4>s;i=++s)o[i+1]=e.words[i];for(a=32===e.sigBytes?[this.sigma,e.words.slice(4)]:[this.tau,e.words],r=a[0],n=a[1],i=u=0;4>u;i=++u)o[i+11]=n[i];for(i=c=0;4>c;i=++c)o[5*i]=r.words[i];return o[6]=t.words[0],o[7]=t.words[1],o},e.prototype.counter_setup=function(){return this.input[8]=this.counter.get().words[0],this.input[9]=this.counter.get().words[1]},e.prototype._reset=function(){return this.counter=new i({len:2})},e.prototype._generateBlock=function(){var t;return this.counter_setup(),t=this._core(this.input),l(t,this.input),this.counter.inc_le(),t},e}(u),n.Salsa20WordStream=c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype._reset=function(){return e.__super__._reset.call(this)},e.prototype.getWordArray=function(t){var e,n,r,i,o,s,u,c;for(null==t||t===this.blockSize?o=this._generateBlock():(r=Math.ceil(t/this.blockSize),e=function(){var t,e;for(e=[],n=t=0;r>=0?r>t:t>r;n=r>=0?++t:--t)e.push(this._generateBlock());return e}.call(this),o=(c=[]).concat.apply(c,e)),n=s=0,u=o.length;u>s;n=++s)i=o[n],o[n]=y(i);return new f(o,t)},e}(s),n.Salsa20=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return k(e,t),e.prototype._reset=function(){return e.__super__._reset.call(this),this._i=this.blockSize},e.prototype.getBytes=function(t){var e,n,i;if(null==t&&(t=this.blockSize),i=[],e=this.blockSize,this._i===e&&t===e)return this._generateBlockBuffer();for(;t>0;)this._i===e&&(this._generateBlockBuffer(),this._i=0),n=Math.min(t,e-this._i),i.push(n===e?this._buf:this._buf.slice(this._i,this._i+n)),this._i+=n,t-=n;return r.concat(i)},e.prototype._generateBlockBuffer=function(){var t,e,n,i,o;for(this._buf=new r(this.blockSize),n=this._generateBlock(),e=i=0,o=n.length;o>i;e=++i)t=n[e],this._buf.writeUInt32LE(d(t),4*e);return this._buf},e}(s),n.Cipher=e=function(t){function e(t){var n,r;r=t.key,n=t.iv,e.__super__.constructor.call(this),this.salsa=new c(r,n),this.bsiw=this.salsa.blockSize/4}return k(e,t),e.prototype.scrub=function(){return this.salsa.scrub()},e.prototype.get_pad=function(){var t;return t=this.salsa.getWordArray()},e}(a),n.encrypt=p=function(t){var n,r,i,o,s;return o=t.key,i=t.iv,r=t.input,n=new e({key:o,iv:i}),s=n.encrypt(r),n.scrub(),s},n.bulk_encrypt=h=function(t,n){var r,i,o,s,u,c,a,f,l;l=b,a=_.findDeferral(arguments),s=t.key,o=t.iv,i=t.input,u=t.progress_hook,r=new e({key:s,iv:o}),function(){return function(t){f=new _.Deferrals(t,{parent:a,filename:"/Users/max/src/keybase/triplesec/src/salsa20.iced"}),r.bulk_encrypt({input:i,progress_hook:u,what:"salsa20"},f.defer({assign_fn:function(){return function(){return c=arguments[0]}}(),lineno:257})),f._fulfill()}}(this)(function(){return function(){return r.scrub(),n(c)}}(this))},n.Salsa20InnerCore=u,n.endian_reverse=y,n.asum=l}).call(this)},{"./algbase":2,"./ctr":4,"./util":23,"./wordarray":24,__browserify_Buffer:26,"iced-runtime":38}],15:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l,h,p,y,d,_,g,w,b,v,m,k,S;h=t("iced-runtime"),b=v=function(){},e=t("./hmac").HMAC_SHA256,p=t("./pbkdf2").pbkdf2,m=t("./salsa20"),f=m.endian_reverse,r=m.Salsa20InnerCore,k=t("./wordarray"),g=k.ui8a_to_buffer,s=k.WordArray,S=t("./util"),l=S.fixup_uint32,a=S.default_delay,y=S.scrub_vec,o=function(){function t(){this.tot=0}return t.prototype.start=function(){return this._t=Date.now()},t.prototype.stop=function(){return this.tot+=Date.now()-this._t},t}(),_=new o,u=function(t,e,n,r,i){"use asm";var o,s,u;for(u=n<<4|0,s=r<<4|0,o=s+(i<<4)|0;s<o;)t[u]=e[s],t[u+1]=e[s+1],t[u+2]=e[s+2],t[u+3]=e[s+3],t[u+4]=e[s+4],t[u+5]=e[s+5],t[u+6]=e[s+6],t[u+7]=e[s+7],t[u+8]=e[s+8],t[u+9]=e[s+9],t[u+10]=e[s+10],t[u+11]=e[s+11],t[u+12]=e[s+12],t[u+13]=e[s+13],t[u+14]=e[s+14],t[u+15]=e[s+15],s+=16,u+=16;return!0},c=function(t,e,n,r){"use asm";var i,o;for(r=r<<4|0,i=0,o=n<<4|0;i<r;)t[i]^=e[o],t[i+1]^=e[o+1],t[i+2]^=e[o+2],t[i+3]^=e[o+3],t[i+4]^=e[o+4],t[i+5]^=e[o+5],t[i+6]^=e[o+6],t[i+7]^=e[o+7],t[i+8]^=e[o+8],t[i+9]^=e[o+9],t[i+10]^=e[o+10],t[i+11]^=e[o+11],t[i+12]^=e[o+12],t[i+13]^=e[o+13],t[i+14]^=e[o+14],t[i+15]^=e[o+15],i+=16,o+=16;return!0},w=function(t){var e,n,r,i;for(n=r=0,i=t.length;i>r;n=++r)e=t[n],t[n]=f(e);return!0},i=function(){function t(t){var n,i,o,s;n=t.N,this.r=t.r,this.p=t.p,i=t.c,o=t.c0,s=t.c1,this.klass=t.klass,this.N||(this.N=1<<(n||15)),this.r||(this.r=8),this.p||(this.p=1),this.c0=o||i||1,this.c1=s||i||1,this.klass||(this.klass=e),this.X16_tmp=new Int32Array(16),this.s20ic=new r(8)}return t.prototype.salsa20_8=function(t){var e,n,r,i,o;for(e=this.s20ic._core(t),n=i=0,o=e.length;o>i;n=++i)r=e[n],t[n]+=r;return!0},t.prototype.pbkdf2=function(t,e){var n,r,i,o,s,u,c,a,f;f=v,c=h.findDeferral(arguments),i=t.key,s=t.salt,r=t.dkLen,o=t.progress_hook,n=t.c,function(t){return function(e){a=new h.Deferrals(e,{parent:c,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.pbkdf2"}),p({key:i,salt:s,c:n,dkLen:r,klass:t.klass,progress_hook:o},a.defer({assign_fn:function(){return function(){return u=arguments[0]}}(),lineno:113})),a._fulfill()}}(this)(function(){return function(){return e(u)}}(this))},t.prototype.blockmix_salsa8=function(t,e){var n,r,i,o;for(n=this.X16_tmp,u(n,t,0,2*this.r-1,1),r=i=0,o=2*this.r;o>=0?o>i:i>o;r=o>=0?++i:--i)c(n,t,r,1),this.salsa20_8(n),u(e,n,r,0,1);for(r=0;r<this.r;)u(t,e,r,2*r,1),r++;for(r=0;r<this.r;)u(t,e,r+this.r,2*r+1,1),r++;return!0},t.prototype.smix=function(t,e){var n,r,i,o,s,f,p,y,d,_,g,w,b;b=v,g=h.findDeferral(arguments),n=t.B,r=t.V,o=t.XY,d=t.progress_hook,i=o,y=2*this.r,s=o.subarray(16*y),u(i,n,0,0,y),f=0,function(t){return function(e){var n,o;n=[],(o=function(e){var c,l,p;if(c=function(){return e(n)},l=function(){return h.trampoline(function(){return o(e)})},p=function(t){return n.push(t),l()},!(f<t.N))return c();for(_=Math.min(t.N,f+2048);_>f;)u(r,i,y*f,0,y),t.blockmix_salsa8(i,s),f++;"function"==typeof d&&d(f),function(t){w=new h.Deferrals(t,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),a(0,0,w.defer({lineno:170})),w._fulfill()}(p)})(e)}}(this)(function(t){return function(){f=0,function(e){var n,o;n=[],(o=function(e){var u,b,v;if(u=function(){return e(n)},b=function(){return h.trampoline(function(){return o(e)})},v=function(t){return n.push(t),b()},!(f<t.N))return u();for(_=Math.min(t.N,f+256);_>f;)p=l(i[16*(y-1)])&t.N-1,c(i,r,p*y,y),t.blockmix_salsa8(i,s),f++;"function"==typeof d&&d(f+t.N),function(t){w=new h.Deferrals(t,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.smix"}),a(0,0,w.defer({lineno:187})),w._fulfill()}(v)})(e)}(function(){return u(n,i,0,0,y),e()})}}(this))},t.prototype.run=function(t,e){var n,r,i,o,u,c,a,f,l,p,d,_,g,b,m,k,S,E,B;k=v,b=h.findDeferral(arguments),f=t.key,g=t.salt,u=t.dkLen,d=t.progress_hook,r=4294967295,c=_=null,c=u>r?c=new Error("asked for too much data"):this.r*this.p>=1<<30?new Error("r & p are too big"):this.r>r/128/this.p||this.r>r/256||this.N>r/128/this.r?new Error("N is too big"):null,o=new Int32Array(64*this.r),i=new Int32Array(32*this.r*this.N),l=function(t){return t.what+=" (pass 1)","function"==typeof d?d(t):void 0},function(t){return function(e){m=new h.Deferrals(e,{parent:b,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.pbkdf2({key:f.clone(),salt:g,dkLen:128*t.r*t.p,c:t.c0,progress_hook:l},m.defer({assign_fn:function(){return function(){return n=arguments[0]}}(),lineno:218})),m._fulfill()}}(this)(function(t){return function(){n=new Int32Array(n.words),w(n),l=function(e){return function(n){return"function"==typeof d?d({i:n+e*t.N*2,what:"scrypt",total:t.p*t.N*2}):void 0}},function(e){var r,s;a=0,S=0,E=t.p,B=E>S,r=[],(s=function(e){var u,c,f;return u=function(){return e(r)},c=function(){return h.trampoline(function(){return B?a+=1:a-=1,s(e)})},f=function(t){return r.push(t),c()},B===!0&&a>=t.p||B===!1&&a<=t.p?u():void!function(e){m=new h.Deferrals(e,{parent:b,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.smix({B:n.subarray(32*t.r*a),V:i,XY:o,progress_hook:l(a)},m.defer({lineno:225})),m._fulfill()}(f)})(e)}(function(){w(n),l=function(t){return t.what+=" (pass 2)","function"==typeof d?d(t):void 0},function(e){m=new h.Deferrals(e,{parent:b,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced",funcname:"Scrypt.run"}),t.pbkdf2({key:f,salt:s.from_i32a(n),dkLen:u,c:t.c1,progress_hook:l},m.defer({assign_fn:function(){return function(){return p=arguments[0]}}(),lineno:233})),m._fulfill()}(function(){return y(o),y(i),y(n),f.scrub(),e(p)})})}}(this))},t}(),d=function(t,e){var n,r,o,s,u,c,a,f,l,p,y,d,_,g,w,b;b=v,g=h.findDeferral(arguments),a=t.key,d=t.salt,y=t.r,n=t.N,l=t.p,o=t.c0,s=t.c1,r=t.c,f=t.klass,p=t.progress_hook,u=t.dkLen,c=new i({r:y,N:n,p:l,c:r,c0:o,c1:s,klass:f}),function(){return function(t){w=new h.Deferrals(t,{parent:g,filename:"/Users/max/src/keybase/triplesec/src/scrypt.iced"}),c.run({key:a,salt:d,progress_hook:p,dkLen:u},w.defer({assign_fn:function(){return function(){return _=arguments[0]}}(),lineno:263})),w._fulfill()}}(this)(function(){return function(){return e(_)}}(this))},n.Scrypt=i,n.scrypt=d,n.v_endian_reverse=w}).call(this)},{"./hmac":8,"./pbkdf2":12,"./salsa20":14,"./util":23,"./wordarray":24,"iced-runtime":38}],16:[function(t,e,n){(function(){var e,r,i,o,s,u={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("./wordarray").WordArray,e=t("./algbase").Hasher,i=[],r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.output_size=20,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new o([1732584193,4023233417,2562383102,271733878,3285377520])},e.prototype._doProcessBlock=function(t,e){var n,r,o,s,u,c,a,f,l,h;for(n=this._hash.words,r=n[0],o=n[1],s=n[2],u=n[3],c=n[4],a=h=0;80>h;a=++h)16>a?i[a]=0|t[e+a]:(f=i[a-3]^i[a-8]^i[a-14]^i[a-16],i[a]=f<<1|f>>>31),l=(r<<5|r>>>27)+c+i[a],l+=20>a?(o&s|~o&u)+1518500249:40>a?(o^s^u)+1859775393:60>a?(o&s|o&u|s&u)-1894007588:(o^s^u)-899497514,c=u,u=s,s=o<<30|o>>>2,o=r,r=l;return n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+u|0,n[4]=n[4]+c|0},e.prototype._doFinalize=function(){var t,e,n,r;return t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes,e[n>>>5]|=128<<24-n%32,e[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),e[(n+64>>>9<<4)+15]=r,t.sigBytes=4*e.length,this._process(),this._hash},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(e),s=s=function(t){var e;return e=(new r).finalize(t),t.scrub(),e},n.SHA1=r,n.transform=s}).call(this)},{"./algbase":2,"./wordarray":24}],17:[function(t,e,n){(function(){var e,r,i,o,s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("./wordarray").WordArray,r=t("./sha256").SHA256,e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.output_size=28,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new i([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},e.prototype._doFinalize=function(){var t;return t=e.__super__._doFinalize.call(this),t.sigBytes-=4,t},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),o=function(t){var n;return n=(new e).finalize(t),t.scrub(),n},n.SHA224=e,n.transform=o}).call(this)},{"./sha256":18,"./wordarray":24}],18:[function(t,e,n){(function(){var e,r,i,o,s,u,c={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("./wordarray").WordArray,r=t("./algbase").Hasher,e=function(){function t(){this.H=[],this.K=[],this.W=[],this.init()}return t.prototype.isPrime=function(t){var e,n,r;if(2===t||3===t||5===t||7===t)return!0;if(1===t||4===t||6===t||8===t||9===t)return!1;for(n=Math.ceil(Math.sqrt(t)),e=r=2;n>=2?n>=r:r>=n;e=n>=2?++r:--r)if(t%e===0)return!1;return!0},t.prototype.getFractionalBits=function(t){return 4294967296*(t-(0|t))|0},t.prototype.init=function(){var t,e,n;for(t=2,e=0,n=[];64>e;)this.isPrime(t)&&(8>e&&(this.H[e]=this.getFractionalBits(Math.pow(t,.5))),this.K[e]=this.getFractionalBits(Math.pow(t,1/3)),e++),n.push(t++);return n},t}(),s=new e,i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.output_size=32,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=new o(s.H.slice(0))},e.prototype.get_output_size=function(){return this.output_size},e.prototype._doProcessBlock=function(t,e){var n,r,i,o,u,c,a,f,l,h,p,y,d,_,g,w,b,v,m,k,S,E,B;for(n=this._hash.words,i=s.W,r=s.K,o=n[0],u=n[1],c=n[2],f=n[3],l=n[4],h=n[5],p=n[6],w=n[7],b=B=0;64>B;b=++B)16>b?i[b]=0|t[e+b]:(d=i[b-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=i[b-2],_=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10,i[b]=y+i[b-7]+_+i[b-16]),a=l&h^~l&p,v=o&u^o&c^u&c,m=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),k=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),S=w+k+a+r[b]+i[b],E=m+v,w=p,p=h,h=l,l=f+S|0,f=c,c=u,u=o,o=S+E|0;return n[0]=n[0]+o|0,n[1]=n[1]+u|0,n[2]=n[2]+c|0,n[3]=n[3]+f|0,n[4]=n[4]+l|0,n[5]=n[5]+h|0,n[6]=n[6]+p|0,n[7]=n[7]+w|0},e.prototype._doFinalize=function(){var t,e,n,r;return t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes,e[n>>>5]|=128<<24-n%32,e[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),e[(n+64>>>9<<4)+15]=r,t.sigBytes=4*e.length,this._process(),this._hash},e.prototype.scrub=function(){return this._hash.scrub()},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),u=function(t){var e;return e=(new i).finalize(t),t.scrub(),e},n.SHA256=i,n.transform=u}).call(this)},{"./algbase":2,"./wordarray":24}],19:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=t("./wordarray"),o=a.WordArray,s=a.X64Word,u=a.X64WordArray,r=t("./algbase").Hasher,e=function(){function t(){this.RHO_OFFSETS=[],this.PI_INDEXES=[],this.ROUND_CONSTANTS=[],this.T=[],this.compute_rho_offsets(),this.compute_pi_indexes(),this.compute_round_constants(),this.make_reusables()}return t.prototype.compute_rho_offsets=function(){var t,e,n,r,i,o,s;for(r=1,i=0,s=[],n=o=0;24>o;n=++o)this.RHO_OFFSETS[r+5*i]=(n+1)*(n+2)/2%64,t=i%5,e=(2*r+3*i)%5,r=t,s.push(i=e);return s},t.prototype.compute_pi_indexes=function(){var t,e,n,r;for(r=[],t=n=0;5>n;t=++n)r.push(function(){var n,r;for(r=[],e=n=0;5>n;e=++n)r.push(this.PI_INDEXES[t+5*e]=e+(2*t+3*e)%5*5);return r}.call(this));return r},t.prototype.compute_round_constants=function(){var t,e,n,r,i,o,u,c,a;for(t=1,a=[],n=u=0;24>u;n=++u){for(o=0,i=0,r=c=0;7>c;r=++c)1&t&&(e=(1<<r)-1,32>e?i^=1<<e:o^=1<<e-32),128&t?t=t<<1^113:t<<=1;a.push(this.ROUND_CONSTANTS[n]=new s(o,i))}return a},t.prototype.make_reusables=function(){var t;return this.T=function(){var e,n;for(n=[],t=e=0;25>e;t=++e)n.push(new s(0,0));return n;
}()},t}(),c=new e,n.SHA3=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.outputLength=512,e.prototype.outputLength=e.outputLength,e.blockSize=(1600-2*e.outputLength)/32,e.prototype.blockSize=e.blockSize,e.output_size=e.outputLength/8,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){var t;return this._state=function(){var e,n;for(n=[],t=e=0;25>e;t=++e)n.push(new s(0,0));return n}()},e.prototype._doProcessBlock=function(t,e){var n,r,i,o,s,u,a,f,l,h,p,y,d,_,g,w,b,v,m,k,S,E,B,x,T,D,P,A,U,z,I,M,O,L,R,N,F,C;for(n=c,B=this._state,m=this.blockSize/2,_=U=0;m>=0?m>U:U>m;_=m>=0?++U:--U)r=t[e+2*_],i=t[e+2*_+1],r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),g=B[_],g.high^=i,g.low^=r;for(C=[],S=z=0;24>z;S=++z){for(P=I=0;5>I;P=++I){for(D=T=0,A=M=0;5>M;A=++M)g=B[P+5*A],D^=g.high,T^=g.low;a=n.T[P],a.high=D,a.low=T}for(P=O=0;5>O;P=++O)for(d=n.T[(P+4)%5],f=n.T[(P+1)%5],p=f.high,h=f.low,D=d.high^(p<<1|h>>>31),T=d.low^(h<<1|p>>>31),A=L=0;5>L;A=++L)g=B[P+5*A],g.high^=D,g.low^=T;for(w=R=1;25>R;w=++R)g=B[w],v=g.high,b=g.low,k=n.RHO_OFFSETS[w],32>k?(D=v<<k|b>>>32-k,T=b<<k|v>>>32-k):(D=b<<k-32|v>>>64-k,T=v<<k-32|b>>>64-k),u=n.T[n.PI_INDEXES[w]],u.high=D,u.low=T;for(o=n.T[0],x=B[0],o.high=x.high,o.low=x.low,P=N=0;5>N;P=++N)for(A=F=0;5>F;A=++F)w=P+5*A,g=B[w],s=n.T[w],l=n.T[(P+1)%5+5*A],y=n.T[(P+2)%5+5*A],g.high=s.high^~l.high&y.high,g.low=s.low^~l.low&y.low;g=B[0],E=n.ROUND_CONSTANTS[S],g.high^=E.high,C.push(g.low^=E.low)}return C},e.prototype._doFinalize=function(){var t,e,n,r,i,s,u,c,a,f,l,h,p,y;for(e=this._data,n=e.words,f=8*this._nDataBytes,a=8*e.sigBytes,t=32*this.blockSize,n[a>>>5]|=1<<24-a%32,n[(Math.ceil((a+1)/t)*t>>>5)-1]|=128,e.sigBytes=4*n.length,this._process(),p=this._state,l=this.outputLength/8,h=l/8,r=[],i=y=0;h>=0?h>y:y>h;i=h>=0?++y:--y)s=p[i],c=s.high,u=s.low,c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),r.push(u),r.push(c);return new o(r,l)},e.prototype.copy_to=function(t){var n;return e.__super__.copy_to.call(this,t),t._state=function(){var t,e,r,i;for(r=this._state,i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.clone());return i}.call(this)},e.prototype.scrub=function(){},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),n.transform=function(t){var e;return e=(new i).finalize(t),t.scrub(),e}}).call(this)},{"./algbase":2,"./wordarray":24}],20:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=t("./wordarray"),s=c.X64WordArray,o=c.WordArray,a=t("./sha512"),i=a.SHA512,e=a.Global,r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return l(n,t),n.output_size=48,n.prototype.output_size=n.output_size,n.prototype._doReset=function(){return this._hash=new s(e.convert([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]))},n.prototype._doFinalize=function(){var t;return t=n.__super__._doFinalize.call(this),t.sigBytes-=16,t},n.prototype.clone=function(){var t;return t=new n,this.copy_to(t),t},n}(i),u=function(t){var e;return e=(new r).finalize(t),t.scrub(),e},n.SHA384=r,n.transform=u}).call(this)},{"./sha512":21,"./wordarray":24}],21:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=t("./wordarray"),o=c.X64Word,s=c.X64WordArray,r=t("./algbase").Hasher,e=function(){function t(){var t;this.K=this.convert([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),this.I=new s(this.convert([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])),this.W=function(){var e,n;for(n=[],t=e=0;80>e;t=++e)n.push(new o(0,0));return n}()}return t.convert=function(t){var e,n,r,i;for(i=[],e=n=0,r=t.length;r>n;e=n+=2)i.push(new o(t[e],t[e+1]));return i},t.prototype.convert=function(e){return t.convert(e)},t}(),n.Global=e,u=new e,n.SHA512=i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.blockSize=32,e.prototype.blockSize=e.blockSize,e.output_size=64,e.prototype.output_size=e.output_size,e.prototype._doReset=function(){return this._hash=u.I.clone()},e.prototype._doProcessBlock=function(t,e){var n,r,i,o,s,c,a,f,l,h,p,y,d,_,g,w,b,v,m,k,S,E,B,x,T,D,P,A,U,z,I,M,O,L,R,N,F,C,K,H,j,X,W,V,G,q,Y,$,J,Z,Q,tt,et,nt,rt,it,ot,st,ut,ct,at,ft,lt,ht,pt,yt,dt,_t,gt,wt,bt,vt,mt,kt,St,Et,Bt,xt;for(n=this._hash.words,U=u.W,r=n[0],s=n[1],f=n[2],p=n[3],_=n[4],b=n[5],k=n[6],B=n[7],i=r.high,o=r.low,c=s.high,a=s.low,l=f.high,h=f.low,y=p.high,d=p.low,g=_.high,w=_.low,v=b.high,m=b.low,S=k.high,E=k.low,x=B.high,T=B.low,K=i,H=o,j=c,X=a,W=l,q=h,Y=y,$=d,J=g,Z=w,Q=v,tt=m,lt=S,ht=E,pt=x,yt=T,dt=xt=0;80>xt;dt=++xt)z=U[dt],16>dt?(F=z.high=0|t[e+2*dt],C=z.low=0|t[e+2*dt+1]):(rt=U[dt-15],it=rt.high,ot=rt.low,et=(it>>>1|ot<<31)^(it>>>8|ot<<24)^it>>>7,nt=(ot>>>1|it<<31)^(ot>>>8|it<<24)^(ot>>>7|it<<25),ct=U[dt-2],at=ct.high,ft=ct.low,st=(at>>>19|ft<<13)^(at<<3|ft>>>29)^at>>>6,ut=(ft>>>19|at<<13)^(ft<<3|at>>>29)^(ft>>>6|at<<26),L=U[dt-7],R=L.high,N=L.low,I=U[dt-16],M=I.high,O=I.low,C=nt+N,F=et+R+(nt>>>0>C>>>0?1:0),C+=ut,F=F+st+(ut>>>0>C>>>0?1:0),C+=O,F=F+M+(O>>>0>C>>>0?1:0),z.high=F,z.low=C),V=J&Q^~J&lt,G=Z&tt^~Z&ht,_t=K&j^K&W^j&W,gt=H&X^H&q^X&q,wt=(K>>>28|H<<4)^(K<<30|H>>>2)^(K<<25|H>>>7),bt=(H>>>28|K<<4)^(H<<30|K>>>2)^(H<<25|K>>>7),vt=(J>>>14|Z<<18)^(J>>>18|Z<<14)^(J<<23|Z>>>9),mt=(Z>>>14|J<<18)^(Z>>>18|J<<14)^(Z<<23|J>>>9),D=u.K[dt],P=D.high,A=D.low,St=yt+mt,kt=pt+vt+(yt>>>0>St>>>0?1:0),St+=G,kt=kt+V+(G>>>0>St>>>0?1:0),St+=A,kt=kt+P+(A>>>0>St>>>0?1:0),St+=C,kt=kt+F+(C>>>0>St>>>0?1:0),Bt=bt+gt,Et=wt+_t+(bt>>>0>Bt>>>0?1:0),pt=lt,yt=ht,lt=Q,ht=tt,Q=J,tt=Z,Z=$+St|0,J=Y+kt+($>>>0>Z>>>0?1:0)|0,Y=W,$=q,W=j,q=X,j=K,X=H,H=St+Bt|0,K=kt+Et+(St>>>0>H>>>0?1:0)|0;return o=r.low=o+H,r.high=i+K+(H>>>0>o>>>0?1:0),a=s.low=a+X,s.high=c+j+(X>>>0>a>>>0?1:0),h=f.low=h+q,f.high=l+W+(q>>>0>h>>>0?1:0),d=p.low=d+$,p.high=y+Y+($>>>0>d>>>0?1:0),w=_.low=w+Z,_.high=g+J+(Z>>>0>w>>>0?1:0),m=b.low=m+tt,b.high=v+Q+(tt>>>0>m>>>0?1:0),E=k.low=E+ht,k.high=S+lt+(ht>>>0>E>>>0?1:0),T=B.low=T+yt,B.high=x+pt+(yt>>>0>T>>>0?1:0)},e.prototype._doFinalize=function(){var t,e,n;return t=this._data.words,n=8*this._nDataBytes,e=8*this._data.sigBytes,t[e>>>5]|=128<<24-e%32,t[(e+128>>>10<<5)+30]=Math.floor(n/4294967296),t[(e+128>>>10<<5)+31]=n,this._data.sigBytes=4*t.length,this._process(),this._hash.toX32()},e.prototype.copy_to=function(t){return e.__super__.copy_to.call(this,t),t._hash=this._hash.clone()},e.prototype.clone=function(){var t;return t=new e,this.copy_to(t),t},e}(r),n.transform=function(t){var e;return e=(new i).finalize(t),t.scrub(),e}}).call(this)},{"./algbase":2,"./wordarray":24}],22:[function(t,e,n){(function(){var e,r,i,o,s,u={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e=t("./algbase").BlockCipher,s=t("./util").scrub_vec,i=function(){function t(){this.P=[[169,103,179,232,4,253,163,118,154,146,128,120,228,221,209,56,13,198,53,152,24,247,236,108,67,117,55,38,250,19,148,72,242,208,139,48,132,84,223,35,25,91,61,89,243,174,162,130,99,1,131,46,217,81,155,124,166,235,165,190,22,12,227,97,192,140,58,245,115,44,37,11,187,78,137,107,83,106,180,241,225,230,189,69,226,244,182,102,204,149,3,86,212,28,30,215,251,195,142,181,233,207,191,186,234,119,57,175,51,201,98,113,129,121,9,173,36,205,249,216,229,197,185,77,68,8,134,231,161,29,170,237,6,112,178,210,65,123,160,17,49,194,39,144,32,246,96,255,150,92,177,171,158,156,82,27,95,147,10,239,145,133,73,238,45,79,143,59,71,135,109,70,214,62,105,100,42,206,203,47,252,151,5,122,172,127,213,26,75,14,167,90,40,20,63,41,136,60,76,2,184,218,176,23,85,31,138,125,87,199,141,116,183,196,159,114,126,21,34,18,88,7,153,52,110,80,222,104,101,188,219,248,200,168,43,64,220,254,50,164,202,16,33,240,211,93,15,0,111,157,54,66,74,94,193,224],[117,243,198,244,219,123,251,200,74,211,230,107,69,125,232,75,214,50,216,253,55,113,241,225,48,15,248,27,135,250,6,63,94,186,174,91,138,0,188,157,109,193,177,14,128,93,210,213,160,132,7,20,181,144,44,163,178,115,76,84,146,116,54,81,56,176,189,90,252,96,98,150,108,66,247,16,124,40,39,140,19,149,156,199,36,70,59,112,202,227,133,203,17,208,147,184,166,131,32,255,159,119,195,204,3,111,8,191,64,231,43,226,121,12,170,130,65,58,234,185,228,154,164,151,126,218,122,23,102,148,161,29,61,240,222,179,11,114,167,28,239,209,83,62,143,51,38,95,236,118,42,73,129,136,238,33,196,26,235,217,197,57,153,205,173,49,139,1,24,35,221,31,78,45,249,72,79,242,101,142,120,92,88,25,141,229,152,87,103,127,5,100,175,99,182,254,245,183,60,165,206,233,104,68,224,77,67,105,41,46,172,21,89,168,10,158,110,71,223,52,53,106,207,220,34,201,192,155,137,212,237,171,18,162,13,82,187,2,47,169,215,97,30,180,80,4,246,194,22,37,134,86,85,9,190,145]],this.P_00=1,this.P_01=0,this.P_02=0,this.P_03=1,this.P_04=1,this.P_10=0,this.P_11=0,this.P_12=1,this.P_13=1,this.P_14=0,this.P_20=1,this.P_21=1,this.P_22=0,this.P_23=0,this.P_24=0,this.P_30=0,this.P_31=1,this.P_32=1,this.P_33=0,this.P_34=1,this.GF256_FDBK=361,this.GF256_FDBK_2=this.GF256_FDBK/2,this.GF256_FDBK_4=this.GF256_FDBK/4,this.RS_GF_FDBK=333,this.SK_STEP=33686018,this.SK_BUMP=16843009,this.SK_ROTL=9}return t}(),r=new i,n.TwoFish=o=function(t){function e(t){this._key=t.clone(),this.gMDS0=[],this.gMDS1=[],this.gMDS2=[],this.gMDS3=[],this.gSubKeys=[],this.gSBox=[],this.k64Cnt=0,this._doReset()}return c(e,t),e.blockSize=16,e.prototype.blockSize=e.blockSize,e.keySize=32,e.prototype.keySize=e.keySize,e.ivSize=e.blockSize,e.prototype.ivSize=e.ivSize,e.prototype.getByte=function(t,e){return t>>>8*e&255},e.prototype.switchEndianness=function(t){return(255&t)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>24&255},e.prototype.LFSR1=function(t){return t>>1^(0!==(1&t)?r.GF256_FDBK_2:0)},e.prototype.LFSR2=function(t){return t>>2^(0!==(2&t)?r.GF256_FDBK_2:0)^(0!==(1&t)?r.GF256_FDBK_4:0)},e.prototype.Mx_X=function(t){return t^this.LFSR2(t)},e.prototype.Mx_Y=function(t){return t^this.LFSR1(t)^this.LFSR2(t)},e.prototype.RS_rem=function(t){var e,n,i;return e=t>>>24&255,n=255&(e<<1^(0!==(128&e)?r.RS_GF_FDBK:0)),i=e>>>1^(0!==(1&e)?r.RS_GF_FDBK>>>1:0)^n,t<<8^i<<24^n<<16^i<<8^e},e.prototype.RS_MDS_Encode=function(t,e){var n,r,i,o;for(r=e,n=i=0;4>i;n=++i)r=this.RS_rem(r);for(r^=t,n=o=0;4>o;n=++o)r=this.RS_rem(r);return r},e.prototype.F32=function(t,e){var n,i,o,s,u,c,a,f,l,h;return n=this.getByte(t,0),i=this.getByte(t,1),o=this.getByte(t,2),s=this.getByte(t,3),u=e[0],c=e[1],a=e[2],f=e[3],l=3&this.k64Cnt,h=1===l?this.gMDS0[255&r.P[r.P_01][n]^this.getByte(u,0)]^this.gMDS1[255&r.P[r.P_11][i]^this.getByte(u,1)]^this.gMDS2[255&r.P[r.P_21][o]^this.getByte(u,2)]^this.gMDS3[255&r.P[r.P_31][s]^this.getByte(u,3)]:(0===l?(n=255&r.P[r.P_04][n]^this.getByte(f,0),i=255&r.P[r.P_14][i]^this.getByte(f,1),o=255&r.P[r.P_24][o]^this.getByte(f,2),s=255&r.P[r.P_34][s]^this.getByte(f,3)):void 0,0===l||3===l?(n=255&r.P[r.P_03][n]^this.getByte(a,0),i=255&r.P[r.P_13][i]^this.getByte(a,1),o=255&r.P[r.P_23][o]^this.getByte(a,2),s=255&r.P[r.P_33][s]^this.getByte(a,3)):void 0,this.gMDS0[255&r.P[r.P_01][255&r.P[r.P_02][n]^this.getByte(c,0)]^this.getByte(u,0)]^this.gMDS1[255&r.P[r.P_11][255&r.P[r.P_12][i]^this.getByte(c,1)]^this.getByte(u,1)]^this.gMDS2[255&r.P[r.P_21][255&r.P[r.P_22][o]^this.getByte(c,2)]^this.getByte(u,2)]^this.gMDS3[255&r.P[r.P_31][255&r.P[r.P_32][s]^this.getByte(c,3)]^this.getByte(u,3)])},e.prototype.Fe32_0=function(t){return this.gSBox[0+2*(255&t)]^this.gSBox[1+2*(t>>>8&255)]^this.gSBox[512+2*(t>>>16&255)]^this.gSBox[513+2*(t>>>24&255)]},e.prototype.Fe32_3=function(t){return this.gSBox[0+2*(t>>>24&255)]^this.gSBox[1+2*(255&t)]^this.gSBox[512+2*(t>>>8&255)]^this.gSBox[513+2*(t>>>16&255)]},e.prototype._doReset=function(){var t,e,n,i,o,s,u,c,a,f,l,h,p,y,d,_,g,w,b,v,m,k,S,E,B,x,T,D;if(p=[],y=[],m=[],_=[],g=[],w=[],this.k64Cnt=this._key.words.length/2,this.k64Cnt<1)throw"Key size less than 64 bits";if(this.k64Cnt>4)throw"Key size larger than 256 bits";for(u=k=0;256>k;u=++k)c=255&r.P[0][u],_[0]=c,g[0]=255&this.Mx_X(c),w[0]=255&this.Mx_Y(c),c=255&r.P[1][u],_[1]=c,g[1]=255&this.Mx_X(c),w[1]=255&this.Mx_Y(c),this.gMDS0[u]=_[r.P_00]|g[r.P_00]<<8|w[r.P_00]<<16|w[r.P_00]<<24,this.gMDS1[u]=w[r.P_10]|w[r.P_10]<<8|g[r.P_10]<<16|_[r.P_10]<<24,this.gMDS2[u]=g[r.P_20]|w[r.P_20]<<8|_[r.P_20]<<16|w[r.P_20]<<24,this.gMDS3[u]=g[r.P_30]|_[r.P_30]<<8|w[r.P_30]<<16|g[r.P_30]<<24;for(u=S=0,x=this.k64Cnt;x>=0?x>S:S>x;u=x>=0?++S:--S)b=2*u,p[u]=this.switchEndianness(this._key.words[b]),y[u]=this.switchEndianness(this._key.words[b+1]),m[this.k64Cnt-1-u]=this.RS_MDS_Encode(p[u],y[u]);for(u=E=0,T=20;T>=0?T>E:E>T;u=T>=0?++E:--E)v=u*r.SK_STEP,t=this.F32(v,p),e=this.F32(v+r.SK_BUMP,y),e=e<<8|e>>>24,t+=e,this.gSubKeys[2*u]=t,t+=e,this.gSubKeys[2*u+1]=t<<r.SK_ROTL|t>>>32-r.SK_ROTL;for(a=m[0],f=m[1],l=m[2],h=m[3],this.gSBox=[],D=[],u=B=0;256>B;u=++B)n=i=o=s=u,d=3&this.k64Cnt,1===d?(this.gSBox[2*u]=this.gMDS0[255&r.P[r.P_01][n]^this.getByte(a,0)],this.gSBox[2*u+1]=this.gMDS1[255&r.P[r.P_11][i]^this.getByte(a,1)],this.gSBox[2*u+512]=this.gMDS2[255&r.P[r.P_21][o]^this.getByte(a,2)],D.push(this.gSBox[2*u+513]=this.gMDS3[255&r.P[r.P_31][s]^this.getByte(a,3)])):(0===d&&(n=255&r.P[r.P_04][n]^this.getByte(h,0),i=255&r.P[r.P_14][i]^this.getByte(h,1),o=255&r.P[r.P_24][o]^this.getByte(h,2),s=255&r.P[r.P_34][s]^this.getByte(h,3)),(0===d||3===d)&&(n=255&r.P[r.P_03][n]^this.getByte(l,0),i=255&r.P[r.P_13][i]^this.getByte(l,1),o=255&r.P[r.P_23][o]^this.getByte(l,2),s=255&r.P[r.P_33][s]^this.getByte(l,3)),this.gSBox[2*u]=this.gMDS0[255&r.P[r.P_01][255&r.P[r.P_02][n]^this.getByte(f,0)]^this.getByte(a,0)],this.gSBox[2*u+1]=this.gMDS1[255&r.P[r.P_11][255&r.P[r.P_12][i]^this.getByte(f,1)]^this.getByte(a,1)],this.gSBox[2*u+512]=this.gMDS2[255&r.P[r.P_21][255&r.P[r.P_22][o]^this.getByte(f,2)]^this.getByte(a,2)],D.push(this.gSBox[2*u+513]=this.gMDS3[255&r.P[r.P_31][255&r.P[r.P_32][s]^this.getByte(f,3)]^this.getByte(a,3)]));return D},e.prototype.scrub=function(){return s(this.gSubKeys),s(this.gSBox),this._key.scrub()},e.prototype.decryptBlock=function(t,e){var n,r,i,o,s,u,c,a,f;for(null==e&&(e=0),c=this.switchEndianness(t[e])^this.gSubKeys[4],a=this.switchEndianness(t[e+1])^this.gSubKeys[5],s=this.switchEndianness(t[e+2])^this.gSubKeys[6],u=this.switchEndianness(t[e+3])^this.gSubKeys[7],n=39,r=f=0;16>f;r=f+=2)i=this.Fe32_0(c),o=this.Fe32_3(a),u^=i+2*o+this.gSubKeys[n--],s=(s<<1|s>>>31)^i+o+this.gSubKeys[n--],u=u>>>1|u<<31,i=this.Fe32_0(s),o=this.Fe32_3(u),a^=i+2*o+this.gSubKeys[n--],c=(c<<1|c>>>31)^i+o+this.gSubKeys[n--],a=a>>>1|a<<31;return t[e]=this.switchEndianness(s^this.gSubKeys[0]),t[e+1]=this.switchEndianness(u^this.gSubKeys[1]),t[e+2]=this.switchEndianness(c^this.gSubKeys[2]),t[e+3]=this.switchEndianness(a^this.gSubKeys[3])},e.prototype.encryptBlock=function(t,e){var n,r,i,o,s,u,c,a,f;for(null==e&&(e=0),s=this.switchEndianness(t[e])^this.gSubKeys[0],u=this.switchEndianness(t[e+1])^this.gSubKeys[1],c=this.switchEndianness(t[e+2])^this.gSubKeys[2],a=this.switchEndianness(t[e+3])^this.gSubKeys[3],n=8,r=f=0;16>f;r=f+=2)i=this.Fe32_0(s),o=this.Fe32_3(u),c^=i+o+this.gSubKeys[n++],c=c>>>1|c<<31,a=(a<<1|a>>>31)^i+2*o+this.gSubKeys[n++],i=this.Fe32_0(c),o=this.Fe32_3(a),s^=i+o+this.gSubKeys[n++],s=s>>>1|s<<31,u=(u<<1|u>>>31)^i+2*o+this.gSubKeys[n++];return t[e]=this.switchEndianness(c^this.gSubKeys[4]),t[e+1]=this.switchEndianness(a^this.gSubKeys[5]),t[e+2]=this.switchEndianness(s^this.gSubKeys[6]),t[e+3]=this.switchEndianness(u^this.gSubKeys[7])},e}(e)}).call(this)},{"./algbase":2,"./util":23}],23:[function(t,e,n){(function(){var e,r,i,o,s;r=t("iced-runtime"),o=s=function(){},i=Math.pow(2,32),n.fixup_uint32=function(t){var e,n;return e=t>i||0>t?(n=Math.abs(t)%i,0>t?i-n:n):t},n.scrub_buffer=function(t){var e,n;for(n=t.length>>2,e=0;n>e;)t.writeUInt32LE(0,e),e+=4;for(;e<t.length;)t.writeUInt8(0,e),e++;return!1},n.scrub_vec=function(t){var e,n,r;for(e=n=0,r=t.length;r>=0?r>n:n>r;e=r>=0?++n:--n)t[e]=0;return!1},n.default_delay=e=function(t,e,n){var i,o,u;u=s,i=r.findDeferral(arguments),function(){return function(t){"undefined"!=typeof setImmediate&&null!==setImmediate?!function(t){o=new r.Deferrals(t,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),setImmediate(o.defer({lineno:37})),o._fulfill()}(t):!function(t){o=new r.Deferrals(t,{parent:i,filename:"/Users/max/src/keybase/triplesec/src/util.iced"}),setTimeout(o.defer({lineno:39}),1),o._fulfill()}(t)}}(this)(function(){return function(){return n()}}(this))},n.buffer_cmp_ule=function(t,e){var n,r,i,o,s,u;for(i=o=0,n=t.length,r=e.length;n>i&&0===t.readUInt8(i);)i++;for(;r>o&&0===e.readUInt8(o);)o++;if(n-i>r-o)return 1;if(r-o>n-i)return-1;for(;n>i;){if((s=t.readUInt8(i))<(u=e.readUInt8(o)))return-1;if(s>u)return 1;i++,o++}return 0},n.bulk=function(t,n,i){var o,u,c,a,f,l,h,p,y,d,_,g,w,b,v,m,k;k=s,v=r.findDeferral(arguments),w=n.update,f=n.finalize,c=n.default_n,a=i.delay,p=i.n,u=i.cb,b=i.what,d=i.progress_hook,l=0,h=0,g=Math.ceil(t/4),a||(a=e),p||(p=c),o=function(t){return"function"==typeof d?d({what:b,i:t,total:g}):void 0},o(0),function(){return function(t){var e,n;e=[],(n=function(t){var i,s,u;return i=function(){return t(e)},s=function(){return r.trampoline(function(){return n(t)})},u=function(t){return e.push(t),s()},(h=g-l)>0?(y=Math.min(p,h),w(l,l+y),o(l),void function(t){m=new r.Deferrals(t,{parent:v,filename:"/Users/max/src/keybase/triplesec/src/util.iced",funcname:"bulk"}),a(l,g,m.defer({lineno:97})),m._fulfill()}(function(){return u(l+=y)})):i()})(t)}}(this)(function(){return function(){return o(g),_=f(),u(_)}}(this))}}).call(this)},{"iced-runtime":38}],24:[function(t,e,n){var r=t("__browserify_Buffer");(function(){var e,i,o,s,u,c,a;a=t("./util"),s=function(t){var e,n,r,i;for(n=new Uint8Array(t.length),e=r=0,i=t.length;i>=0?i>r:r>i;e=i>=0?++r:--r)n[e]=t.readUInt8(e);return n},c=function(t){var e,n,i,o;for(n=new r(t.length),e=i=0,o=t.length;o>=0?o>i:i>o;e=o>=0?++i:--i)n.writeUInt8(t[e],e);return n},u=function(t){return t>>>24&255|(t>>>16&255)<<8|(t>>>8&255)<<16|(255&t)<<24},n.WordArray=e=function(){function t(t,e){this.words=t||[],this.sigBytes=null!=e?e:4*this.words.length}return t.prototype.concat=function(t){var e,n,r,i,o;if(i=t.words,r=t.sigBytes,this.clamp(),this.sigBytes%4)for(e=o=0;r>=0?r>o:o>r;e=r>=0?++o:--o)n=i[e>>>2]>>>24-e%4*8&255,this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8;else this.words=this.words.concat(i);return this.sigBytes+=r,this},t.prototype.clamp=function(){return this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this},t.prototype.clone=function(){return new t(this.words.slice(0),this.sigBytes)},t.prototype.to_buffer=function(){var t,e,n,i,o,s,u;for(e=new r(this.sigBytes),n=0,u=this.words,o=0,s=u.length;s>o;o++)i=u[o],this.sigBytes-n>=4&&(i=a.fixup_uint32(i),e.writeUInt32BE(i,n),n+=4);for(;n<this.sigBytes;)t=this.words[n>>>2]>>>24-n%4*8&255,e.writeUInt8(t,n),n++;return e},t.prototype.endian_reverse=function(){var t,e,n,r,i;for(i=this.words,t=n=0,r=i.length;r>n;t=++n)e=i[t],this.words[t]=u(e);return this},t.prototype.split=function(e){var n,r,i;if(this.sigBytes%4!==0||this.words.length%e!==0)throw new Error("bad key alignment");return i=this.words.length/e,r=function(){var e,r,o;for(o=[],n=e=0,r=this.words.length;i>0?r>e:e>r;n=e+=i)o.push(new t(this.words.slice(n,n+i)));return o}.call(this)},t.prototype.to_utf8=function(){return this.to_buffer().toString("utf8")},t.prototype.to_hex=function(){return this.to_buffer().toString("hex")},t.prototype.to_ui8a=function(){return s(this.to_buffer())},t.alloc=function(e){return r.isBuffer(e)?t.from_buffer(e):"object"==typeof e&&e instanceof t?e:"string"==typeof e?t.from_hex(e):null},t.from_buffer=function(e){var n,r,i,o;for(o=[],i=0;e.length-i>=4;)o.push(e.readUInt32BE(i)),i+=4;if(i<e.length){for(r=0;i<e.length;)n=e.readUInt8(i),r|=n<<24-i%4*8,i++;r=a.fixup_uint32(r),o.push(r)}return new t(o,e.length)},t.from_buffer_le=function(e){var n,r,i,o;for(o=[],i=0;e.length-i>=4;)o.push(e.readUInt32LE(i)),i+=4;if(i<e.length){for(r=0;i<e.length;)n=e.readUInt8(i),r|=n<<i%4*8,i++;r=a.fixup_uint32(r),o.push(r)}return new t(o,e.length)},t.from_utf8=function(e){return t.from_buffer(new r(e,"utf8"))},t.from_utf8_le=function(e){return t.from_buffer_le(new r(e,"utf8"))},t.from_hex=function(e){return t.from_buffer(new r(e,"hex"))},t.from_hex_le=function(e){return t.from_buffer_le(new r(e,"hex"))},t.from_ui8a=function(e){return t.from_buffer(c(e))},t.from_i32a=function(e){return new t(Array.apply([],e))},t.prototype.equal=function(t){var e,n,r,i,o,s;if(n=!0,t.sigBytes!==this.sigBytes)n=!1;else for(s=this.words,e=i=0,o=s.length;o>i;e=++i)r=s[e],a.fixup_uint32(r)!==a.fixup_uint32(t.words[e])&&(n=!1);return n},t.prototype.xor=function(t,e){var n,r,i,o,s,u;if(n=e.dst_offset,o=e.src_offset,i=e.n_words,n||(n=0),o||(o=0),null==i&&(i=t.words.length-o),this.words.length<n+i)throw new Error("dest range exceeded ("+this.words.length+" < "+(n+i)+")");if(t.words.length<o+i)throw new Error("source range exceeded");for(r=u=0;i>=0?i>u:u>i;r=i>=0?++u:--u)s=this.words[n+r]^t.words[o+r],this.words[n+r]=a.fixup_uint32(s);return this},t.prototype.truncate=function(e){var n;if(!(e<=this.sigBytes))throw new Error("Cannot truncate: "+e+" > "+this.sigBytes);return n=Math.ceil(e/4),new t(this.words.slice(0,n),e)},t.prototype.unshift=function(e){var n;return this.words.length>=e?(n=this.words.splice(0,e),this.sigBytes-=4*e,new t(n)):null},t.prototype.is_scrubbed=function(){var t,e,n,r;for(r=this.words,e=0,n=r.length;n>e;e++)if(t=r[e],0!==t)return!1;return!0},t.prototype.scrub=function(){return a.scrub_vec(this.words)},t.prototype.cmp_ule=function(t){return a.buffer_cmp_ule(this.to_buffer(),t.to_buffer())},t.prototype.slice=function(e,n){var r,i;if(r=this.words.length,!(n>e&&r>=n))throw new Error("Bad WordArray slice ["+e+","+n+")] when only "+r+" avail");return i=4*(n-e),n===r&&(i-=4*r-this.sigBytes),new t(this.words.slice(e,n),i)},t}(),n.X64Word=i=function(){function t(t,e){this.high=t,this.low=e}return t.prototype.clone=function(){return new t(this.high,this.low)},t}(),n.X64WordArray=o=function(){function t(t,e){this.sigBytes=e,this.words=t||[],this.sigBytes||(this.sigBytes=8*this.words.length)}return t.prototype.toX32=function(){var t,n,r,i,o;for(t=[],o=this.words,r=0,i=o.length;i>r;r++)n=o[r],t.push(n.high),t.push(n.low);return new e(t,this.sigBytes)},t.prototype.clone=function(){var e;return new t(function(){var t,n,r,i;for(r=this.words,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.clone());return i}.call(this),this.sigBytes)},t}(),n.buffer_to_ui8a=s,n.ui8a_to_buffer=c,n.endian_reverse=u}).call(this)},{"./util":23,__browserify_Buffer:26}],25:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],26:[function(t,e){t=function n(e,r,i){function o(u,c){if(!r[u]){if(!e[u]){var a="function"==typeof t&&t;if(!c&&a)return a(u,!0);if(s)return s(u,!0);throw new Error("Cannot find module '"+u+"'")}var f=r[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return o(n?n:t)},f,f.exports,n,e,r,i)}return r[u].exports}for(var s="function"==typeof t&&t,u=0;u<i.length;u++)o(i[u]);return o}({PcZj9L:[function(t,e,n){function r(t,e){var n=typeof t;if("base64"===e&&"string"===n)for(t=ct(t);t.length%4!==0;)t+="=";var i;if("number"===n)i=pt(t);else if("string"===n)i=r.byteLength(t,e);else{if("object"!==n)throw new Error("First argument needs to be a number, array or string.");i=pt(t.length)}var o=lt(new Dt(i));if(r.isBuffer(t))o.set(t);else if(yt(t))for(var s=0;i>s;s++)o[s]=r.isBuffer(t)?t.readUInt8(s):t[s];else"string"===n&&o.write(t,0,e);return o}function i(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i),i>o&&(i=o)):i=o;var s=e.length;if(s%2!==0)throw new Error("Invalid hex string");i>s/2&&(i=s/2);for(var u=0;i>u;u++){var c=parseInt(e.substr(2*u,2),16);if(isNaN(c))throw new Error("Invalid hex string");t[n+u]=c}return r._charsWritten=2*u,u}function o(t,e,n,i){return r._charsWritten=bt(_t(e),t,n,i)}function s(t,e,n,i){return r._charsWritten=bt(gt(e),t,n,i)}function u(t,e,n,r){return s(t,e,n,r)}function c(t,e,n,i){return r._charsWritten=bt(wt(e),t,n,i)}function a(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var a=r;r=e,e=n,n=a}e=Number(e)||0;var f=this.length-e;switch(n?(n=Number(n),n>f&&(n=f)):n=f,r=String(r||"utf8").toLowerCase()){case"hex":return i(this,t,e,n);case"utf8":case"utf-8":return o(this,t,e,n);case"ascii":return s(this,t,e,n);case"binary":return u(this,t,e,n);case"base64":return c(this,t,e,n);default:throw new Error("Unknown encoding")}}function f(t,e,n){var r=this instanceof ft?this._proxy:this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0!==n?Number(n):n=r.length,n===e)return"";switch(t){case"hex":return g(r,e,n);case"utf8":case"utf-8":return y(r,e,n);case"ascii":return d(r,e,n);case"binary":return _(r,e,n);case"base64":return p(r,e,n);default:throw new Error("Unknown encoding")}}function l(){return{type:"Buffer",data:Array.prototype.slice.call(this,0)}}function h(t,e,n,r){var i=this;if(n||(n=0),r||0===r||(r=this.length),e||(e=0),r!==n&&0!==t.length&&0!==i.length){if(n>r)throw new Error("sourceEnd < sourceStart");if(0>e||e>=t.length)throw new Error("targetStart out of bounds");if(0>n||n>=i.length)throw new Error("sourceStart out of bounds");if(0>r||r>i.length)throw new Error("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);for(var o=0;r-n>o;o++)t[o+e]=this[o+n]}}function p(e,n,r){var i=e.slice(n,r);return t("base64-js").fromByteArray(i)}function y(t,e,n){for(var r=t.slice(e,n),i="",o="",s=0;s<r.length;)r[s]<=127?(i+=vt(o)+String.fromCharCode(r[s]),o=""):o+="%"+r[s].toString(16),s++;return i+vt(o)}function d(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o++)i+=String.fromCharCode(r[o]);return i}function _(t,e,n){return d(t,e,n)}function g(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=dt(t[o]);return i}function w(t,e){var n=this.length;return t=ht(t,n,0),e=ht(e,n,n),lt(this.subarray(t,e))}function b(t,e){var n=this;return e||(Et(void 0!==t&&null!==t,"missing offset"),Et(t<n.length,"Trying to read beyond buffer length")),t>=n.length?void 0:n[t]}function v(t,e,n,r){r||(Et("boolean"==typeof n,"missing or invalid endian"),Et(void 0!==e&&null!==e,"missing offset"),Et(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){if(e+1===i){var o=new xt(new Tt(2));return o.setUint8(0,t[i-1]),o.getUint16(0,n)}return t._dataview.getUint16(e,n)}}function m(t,e){return v(this,t,!0,e)}function k(t,e){return v(this,t,!1,e)}function S(t,e,n,r){r||(Et("boolean"==typeof n,"missing or invalid endian"),Et(void 0!==e&&null!==e,"missing offset"),Et(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){if(e+3>=i){for(var o=new xt(new Tt(4)),s=0;i>s+e;s++)o.setUint8(s,t[s+e]);return o.getUint32(0,n)}return t._dataview.getUint32(e,n)}}function E(t,e){return S(this,t,!0,e)}function B(t,e){return S(this,t,!1,e)}function x(t,e){var n=this;return e||(Et(void 0!==t&&null!==t,"missing offset"),Et(t<n.length,"Trying to read beyond buffer length")),t>=n.length?void 0:n._dataview.getInt8(t)}function T(t,e,n,r){r||(Et("boolean"==typeof n,"missing or invalid endian"),Et(void 0!==e&&null!==e,"missing offset"),Et(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){if(e+1===i){var o=new xt(new Tt(2));return o.setUint8(0,t[i-1]),o.getInt16(0,n)}return t._dataview.getInt16(e,n)}}function D(t,e){return T(this,t,!0,e)}function P(t,e){return T(this,t,!1,e)}function A(t,e,n,r){r||(Et("boolean"==typeof n,"missing or invalid endian"),Et(void 0!==e&&null!==e,"missing offset"),Et(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){if(e+3>=i){for(var o=new xt(new Tt(4)),s=0;i>s+e;s++)o.setUint8(s,t[s+e]);return o.getInt32(0,n)}return t._dataview.getInt32(e,n)}}function U(t,e){return A(this,t,!0,e)}function z(t,e){return A(this,t,!1,e)}function I(t,e,n,r){return r||(Et("boolean"==typeof n,"missing or invalid endian"),Et(e+3<t.length,"Trying to read beyond buffer length")),t._dataview.getFloat32(e,n)}function M(t,e){return I(this,t,!0,e)}function O(t,e){return I(this,t,!1,e)}function L(t,e,n,r){return r||(Et("boolean"==typeof n,"missing or invalid endian"),Et(e+7<t.length,"Trying to read beyond buffer length")),t._dataview.getFloat64(e,n)}function R(t,e){return L(this,t,!0,e)}function N(t,e){return L(this,t,!1,e)}function F(t,e,n){var r=this;n||(Et(void 0!==t&&null!==t,"missing value"),Et(void 0!==e&&null!==e,"missing offset"),Et(e<r.length,"trying to write beyond buffer length"),mt(t,255)),e>=r.length||(r[e]=t)}function C(t,e,n,r,i){i||(Et(void 0!==e&&null!==e,"missing value"),Et("boolean"==typeof r,"missing or invalid endian"),Et(void 0!==n&&null!==n,"missing offset"),Et(n+1<t.length,"trying to write beyond buffer length"),mt(e,65535));var o=t.length;if(!(n>=o))if(n+1===o){var s=new xt(new Tt(2));s.setUint16(0,e,r),t[n]=s.getUint8(0)}else t._dataview.setUint16(n,e,r)}function K(t,e,n){C(this,t,e,!0,n)}function H(t,e,n){C(this,t,e,!1,n)}function j(t,e,n,r,i){i||(Et(void 0!==e&&null!==e,"missing value"),Et("boolean"==typeof r,"missing or invalid endian"),Et(void 0!==n&&null!==n,"missing offset"),Et(n+3<t.length,"trying to write beyond buffer length"),mt(e,4294967295));var o=t.length;if(!(n>=o))if(n+3>=o){var s=new xt(new Tt(4));s.setUint32(0,e,r);for(var u=0;o>u+n;u++)t[u+n]=s.getUint8(u)}else t._dataview.setUint32(n,e,r)}function X(t,e,n){j(this,t,e,!0,n)}function W(t,e,n){j(this,t,e,!1,n)}function V(t,e,n){var r=this;
n||(Et(void 0!==t&&null!==t,"missing value"),Et(void 0!==e&&null!==e,"missing offset"),Et(e<r.length,"Trying to write beyond buffer length"),kt(t,127,-128)),e>=r.length||r._dataview.setInt8(e,t)}function G(t,e,n,r,i){i||(Et(void 0!==e&&null!==e,"missing value"),Et("boolean"==typeof r,"missing or invalid endian"),Et(void 0!==n&&null!==n,"missing offset"),Et(n+1<t.length,"Trying to write beyond buffer length"),kt(e,32767,-32768));var o=t.length;if(!(n>=o))if(n+1===o){var s=new xt(new Tt(2));s.setInt16(0,e,r),t[n]=s.getUint8(0)}else t._dataview.setInt16(n,e,r)}function q(t,e,n){G(this,t,e,!0,n)}function Y(t,e,n){G(this,t,e,!1,n)}function $(t,e,n,r,i){i||(Et(void 0!==e&&null!==e,"missing value"),Et("boolean"==typeof r,"missing or invalid endian"),Et(void 0!==n&&null!==n,"missing offset"),Et(n+3<t.length,"Trying to write beyond buffer length"),kt(e,2147483647,-2147483648));var o=t.length;if(!(n>=o))if(n+3>=o){var s=new xt(new Tt(4));s.setInt32(0,e,r);for(var u=0;o>u+n;u++)t[u+n]=s.getUint8(u)}else t._dataview.setInt32(n,e,r)}function J(t,e,n){$(this,t,e,!0,n)}function Z(t,e,n){$(this,t,e,!1,n)}function Q(t,e,n,r,i){i||(Et(void 0!==e&&null!==e,"missing value"),Et("boolean"==typeof r,"missing or invalid endian"),Et(void 0!==n&&null!==n,"missing offset"),Et(n+3<t.length,"Trying to write beyond buffer length"),St(e,3.4028234663852886e38,-3.4028234663852886e38));var o=t.length;if(!(n>=o))if(n+3>=o){var s=new xt(new Tt(4));s.setFloat32(0,e,r);for(var u=0;o>u+n;u++)t[u+n]=s.getUint8(u)}else t._dataview.setFloat32(n,e,r)}function tt(t,e,n){Q(this,t,e,!0,n)}function et(t,e,n){Q(this,t,e,!1,n)}function nt(t,e,n,r,i){i||(Et(void 0!==e&&null!==e,"missing value"),Et("boolean"==typeof r,"missing or invalid endian"),Et(void 0!==n&&null!==n,"missing offset"),Et(n+7<t.length,"Trying to write beyond buffer length"),St(e,1.7976931348623157e308,-1.7976931348623157e308));var o=t.length;if(!(n>=o))if(n+7>=o){var s=new xt(new Tt(8));s.setFloat64(0,e,r);for(var u=0;o>u+n;u++)t[u+n]=s.getUint8(u)}else t._dataview.setFloat64(n,e,r)}function rt(t,e,n){nt(this,t,e,!0,n)}function it(t,e,n){nt(this,t,e,!1,n)}function ot(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw new Error("value is not a number");if(e>n)throw new Error("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");for(var r=e;n>r;r++)this[r]=t}}function st(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=dt(this[r]),r===n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"}function ut(){return new r(this).buffer}function ct(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function at(){var t=new Dt(0);t.foo=function(){return 42};try{return 42===t.foo()}catch(e){return!1}}function ft(t){this._arr=t,0!==t.byteLength&&(this._dataview=new xt(t.buffer,t.byteOffset,t.byteLength))}function lt(t){if(void 0===Pt&&(Pt=at()),Pt)return t.write=a,t.toString=f,t.toLocaleString=f,t.toJSON=l,t.copy=h,t.slice=w,t.readUInt8=b,t.readUInt16LE=m,t.readUInt16BE=k,t.readUInt32LE=E,t.readUInt32BE=B,t.readInt8=x,t.readInt16LE=D,t.readInt16BE=P,t.readInt32LE=U,t.readInt32BE=z,t.readFloatLE=M,t.readFloatBE=O,t.readDoubleLE=R,t.readDoubleBE=N,t.writeUInt8=F,t.writeUInt16LE=K,t.writeUInt16BE=H,t.writeUInt32LE=X,t.writeUInt32BE=W,t.writeInt8=V,t.writeInt16LE=q,t.writeInt16BE=Y,t.writeInt32LE=J,t.writeInt32BE=Z,t.writeFloatLE=tt,t.writeFloatBE=et,t.writeDoubleLE=rt,t.writeDoubleBE=it,t.fill=ot,t.inspect=st,t.toArrayBuffer=ut,t._isBuffer=!0,0!==t.byteLength&&(t._dataview=new xt(t.buffer,t.byteOffset,t.byteLength)),t;var e=new ft(t),n=new Proxy(e,At);return e._proxy=n,n}function ht(t,e,n){return"number"!=typeof t?n:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function pt(t){return t=~~Math.ceil(+t),0>t?0:t}function yt(t){return Array.isArray(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function dt(t){return 16>t?"0"+t.toString(16):t.toString(16)}function _t(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),i=0;i<r.length;i++)e.push(parseInt(r[i],16));return e}function gt(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function wt(e){return t("base64-js").toByteArray(e)}function bt(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);)e[i+n]=t[i],i++;return i}function vt(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function mt(t,e){Et("number"==typeof t,"cannot write a non-number as a number"),Et(t>=0,"specified a negative value for writing an unsigned value"),Et(e>=t,"value is larger than maximum value for type"),Et(Math.floor(t)===t,"value has a fractional component")}function kt(t,e,n){Et("number"==typeof t,"cannot write a non-number as a number"),Et(e>=t,"value larger than maximum allowed value"),Et(t>=n,"value smaller than minimum allowed value"),Et(Math.floor(t)===t,"value has a fractional component")}function St(t,e,n){Et("number"==typeof t,"cannot write a non-number as a number"),Et(e>=t,"value larger than maximum allowed value"),Et(t>=n,"value smaller than minimum allowed value")}function Et(t,e){if(!t)throw new Error(e||"Failed assertion")}var Bt=t("typedarray"),xt="undefined"==typeof DataView?Bt.DataView:DataView,Tt="undefined"==typeof ArrayBuffer?Bt.ArrayBuffer:ArrayBuffer,Dt="undefined"==typeof Uint8Array?Bt.Uint8Array:Uint8Array;n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var Pt;r.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},r.isBuffer=function(t){return t&&t._isBuffer},r.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return _t(t).length;case"ascii":case"binary":return t.length;case"base64":return wt(t).length;default:throw new Error("Unknown encoding")}},r.concat=function(t,e){if(!Array.isArray(t))throw new Error("Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");var n,i;if(0===t.length)return new r(0);if(1===t.length)return t[0];if("number"!=typeof e)for(e=0,n=0;n<t.length;n++)i=t[n],e+=i.length;var o=new r(e),s=0;for(n=0;n<t.length;n++)i=t[n],i.copy(o,s),s+=i.length;return o},ft.prototype.write=a,ft.prototype.toString=f,ft.prototype.toLocaleString=f,ft.prototype.toJSON=l,ft.prototype.copy=h,ft.prototype.slice=w,ft.prototype.readUInt8=b,ft.prototype.readUInt16LE=m,ft.prototype.readUInt16BE=k,ft.prototype.readUInt32LE=E,ft.prototype.readUInt32BE=B,ft.prototype.readInt8=x,ft.prototype.readInt16LE=D,ft.prototype.readInt16BE=P,ft.prototype.readInt32LE=U,ft.prototype.readInt32BE=z,ft.prototype.readFloatLE=M,ft.prototype.readFloatBE=O,ft.prototype.readDoubleLE=R,ft.prototype.readDoubleBE=N,ft.prototype.writeUInt8=F,ft.prototype.writeUInt16LE=K,ft.prototype.writeUInt16BE=H,ft.prototype.writeUInt32LE=X,ft.prototype.writeUInt32BE=W,ft.prototype.writeInt8=V,ft.prototype.writeInt16LE=q,ft.prototype.writeInt16BE=Y,ft.prototype.writeInt32LE=J,ft.prototype.writeInt32BE=Z,ft.prototype.writeFloatLE=tt,ft.prototype.writeFloatBE=et,ft.prototype.writeDoubleLE=rt,ft.prototype.writeDoubleBE=it,ft.prototype.fill=ot,ft.prototype.inspect=st,ft.prototype.toArrayBuffer=ut,ft.prototype._isBuffer=!0,ft.prototype.subarray=function(){return this._arr.subarray.apply(this._arr,arguments)},ft.prototype.set=function(){return this._arr.set.apply(this._arr,arguments)};var At={get:function(t,e){return e in t?t[e]:t._arr[e]},set:function(t,e,n){t._arr[e]=n}}},{"base64-js":3,typedarray:4}],"native-buffer-browserify":[function(t,e){e.exports=t("PcZj9L")},{}],3:[function(t,e){!function(){"use strict";function t(t){var e,n,i,o,s,u;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(s=t.indexOf("="),s=s>0?t.length-s:0,u=[],i=s>0?t.length-4:t.length,e=0,n=0;i>e;e+=4,n+=3)o=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),u.push((16711680&o)>>16),u.push((65280&o)>>8),u.push(255&o);return 2===s?(o=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,u.push(255&o)):1===s&&(o=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,u.push(o>>8&255),u.push(255&o)),u}function n(t){function e(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}var n,i,o,s=t.length%3,u="";for(n=0,o=t.length-s;o>n;n+=3)i=(t[n]<<16)+(t[n+1]<<8)+t[n+2],u+=e(i);switch(s){case 1:i=t[t.length-1],u+=r[i>>2],u+=r[i<<4&63],u+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],u+=r[i>>10],u+=r[i>>4&63],u+=r[i<<2&63],u+="="}return u}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n}()},{}],4:[function(t,e,n){function r(t){if(R&&L){var e,n=R(t);for(e=0;e<n.length;e+=1)L(t,n[e],{value:t[n[e]],writable:!1,enumerable:!1,configurable:!1})}}function i(t){function e(e){L(t,e,{get:function(){return t._getter(e)},set:function(n){t._setter(e,n)},enumerable:!0,configurable:!1})}if(L){if(t.length>T)throw new RangeError("Array too large for polyfill");var n;for(n=0;n<t.length;n+=1)e(n)}}function o(t,e){var n=32-e;return t<<n>>n}function s(t,e){var n=32-e;return t<<n>>>n}function u(t){return[255&t]}function c(t){return o(t[0],8)}function a(t){return[255&t]}function f(t){return s(t[0],8)}function l(t){return t=O(Number(t)),[0>t?0:t>255?255:255&t]}function h(t){return[t>>8&255,255&t]}function p(t){return o(t[0]<<8|t[1],16)}function y(t){return[t>>8&255,255&t]}function d(t){return s(t[0]<<8|t[1],16)}function _(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function g(t){return o(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function w(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function b(t){return s(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function v(t,e,n){function r(t){var e=U(t),n=t-e;return.5>n?e:n>.5?e+1:e%2?e+1:e}var i,o,s,u,c,a,f,l=(1<<e-1)-1;for(t!==t?(o=(1<<e)-1,s=M(2,n-1),i=0):1/0===t||t===-1/0?(o=(1<<e)-1,s=0,i=0>t?1:0):0===t?(o=0,s=0,i=1/t===-1/0?1:0):(i=0>t,t=A(t),t>=M(2,1-l)?(o=I(U(z(t)/P),1023),s=r(t/M(2,o)*M(2,n)),s/M(2,n)>=2&&(o+=1,s=1),o>l?(o=(1<<e)-1,s=0):(o+=l,s-=M(2,n))):(o=0,s=r(t/M(2,1-l-n)))),c=[],u=n;u;u-=1)c.push(s%2?1:0),s=U(s/2);for(u=e;u;u-=1)c.push(o%2?1:0),o=U(o/2);for(c.push(i?1:0),c.reverse(),a=c.join(""),f=[];a.length;)f.push(parseInt(a.substring(0,8),2)),a=a.substring(8);return f}function m(t,e,n){var r,i,o,s,u,c,a,f,l=[];for(r=t.length;r;r-=1)for(o=t[r-1],i=8;i;i-=1)l.push(o%2?1:0),o>>=1;return l.reverse(),s=l.join(""),u=(1<<e-1)-1,c=parseInt(s.substring(0,1),2)?-1:1,a=parseInt(s.substring(1,1+e),2),f=parseInt(s.substring(1+e),2),a===(1<<e)-1?0!==f?NaN:1/0*c:a>0?c*M(2,a-u)*(1+f/M(2,n)):0!==f?c*M(2,-(u-1))*(f/M(2,n)):0>c?-0:0}function k(t){return m(t,11,52)}function S(t){return v(t,11,52)}function E(t){return m(t,8,23)}function B(t){return v(t,8,23)}var x=void 0,T=1e5,D=function(){var t=Object.prototype.toString,e=Object.prototype.hasOwnProperty;return{Class:function(e){return t.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(t,e){return e in t},HasOwnProperty:function(t,n){return e.call(t,n)},IsCallable:function(t){return"function"==typeof t},ToInt32:function(t){return t>>0},ToUint32:function(t){return t>>>0}}}(),P=Math.LN2,A=Math.abs,U=Math.floor,z=Math.log,I=Math.min,M=Math.pow,O=Math.round,L=Object.defineProperty||function(t,e,n){if(!t===Object(t))throw new TypeError("Object.defineProperty called on non-object");return D.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(t,e,n.get),D.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(t,e,n.set),D.HasProperty(n,"value")&&(t[e]=n.value),t},R=Object.getOwnPropertyNames||function(t){if(t!==Object(t))throw new TypeError("Object.getOwnPropertyNames called on non-object");var e,n=[];for(e in t)D.HasOwnProperty(t,e)&&n.push(e);return n};!function(){function t(t,n,s){var u;return u=function(t,n,o){var s,c,a,f;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===u)for(s=arguments[0],this.length=s.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,a=0;a<this.length;a+=1)this._setter(a,s._getter(a));else if("object"!=typeof arguments[0]||arguments[0]instanceof e||"ArrayBuffer"===D.Class(arguments[0])){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===D.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=D.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=D.ToUint32(o),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(c=arguments[0],this.length=D.ToUint32(c.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,a=0;a<this.length;a+=1)f=c[a],this._setter(a,Number(f));else{if(this.length=D.ToInt32(arguments[0]),0>o)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=u,r(this),i(this)},u.prototype=new o,u.prototype.BYTES_PER_ELEMENT=t,u.prototype._pack=n,u.prototype._unpack=s,u.BYTES_PER_ELEMENT=t,u.prototype._getter=function(t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(t=D.ToUint32(t),t>=this.length)return x;var e,n,r=[];for(e=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)},u.prototype.get=u.prototype._getter,u.prototype._setter=function(t,e){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(t=D.ToUint32(t),t>=this.length)return x;var n,r,i=this._pack(e);for(n=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]},u.prototype.set=function(){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var t,e,n,r,i,o,s,u,c,a;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(t=arguments[0],n=D.ToUint32(arguments[1]),n+t.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(u=this.byteOffset+n*this.BYTES_PER_ELEMENT,c=t.length*this.BYTES_PER_ELEMENT,t.buffer===this.buffer){for(a=[],i=0,o=t.byteOffset;c>i;i+=1,o+=1)a[i]=t.buffer._bytes[o];for(i=0,s=u;c>i;i+=1,s+=1)this.buffer._bytes[s]=a[i]}else for(i=0,o=t.byteOffset,s=u;c>i;i+=1,o+=1,s+=1)this.buffer._bytes[s]=t.buffer._bytes[o]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(e=arguments[0],r=D.ToUint32(e.length),n=D.ToUint32(arguments[1]),n+r>this.length)throw new RangeError("Offset plus length of array is out of range");for(i=0;r>i;i+=1)o=e[i],this._setter(n+i,Number(o))}},u.prototype.subarray=function(t,e){function n(t,e,n){return e>t?e:t>n?n:t}t=D.ToInt32(t),e=D.ToInt32(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),0>t&&(t=this.length+t),0>e&&(e=this.length+e),t=n(t,0,this.length),e=n(e,0,this.length);var r=e-t;return 0>r&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)},u}var e=function(t){if(t=D.ToInt32(t),0>t)throw new RangeError("ArrayBuffer size is not a small enough positive integer");this.byteLength=t,this._bytes=[],this._bytes.length=t;var e;for(e=0;e<this.byteLength;e+=1)this._bytes[e]=0;r(this)};n.ArrayBuffer=n.ArrayBuffer||e;var o=function(){},s=t(1,u,c),v=t(1,a,f),m=t(1,l,f),T=t(2,h,p),P=t(2,y,d),A=t(4,_,g),U=t(4,w,b),z=t(4,B,E),I=t(8,S,k);n.Int8Array=n.Int8Array||s,n.Uint8Array=n.Uint8Array||v,n.Uint8ClampedArray=n.Uint8ClampedArray||m,n.Int16Array=n.Int16Array||T,n.Uint16Array=n.Uint16Array||P,n.Int32Array=n.Int32Array||A,n.Uint32Array=n.Uint32Array||U,n.Float32Array=n.Float32Array||z,n.Float64Array=n.Float64Array||I}(),function(){function t(t,e){return D.IsCallable(t.get)?t.get(e):t[e]}function e(e){return function(n,r){if(n=D.ToUint32(n),n+e.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");n+=this.byteOffset;var i,s=new Uint8Array(this.buffer,n,e.BYTES_PER_ELEMENT),u=[];for(i=0;i<e.BYTES_PER_ELEMENT;i+=1)u.push(t(s,i));return Boolean(r)===Boolean(o)&&u.reverse(),t(new e(new Uint8Array(u).buffer),0)}}function i(e){return function(n,r,i){if(n=D.ToUint32(n),n+e.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var s,u,c=new e([r]),a=new Uint8Array(c.buffer),f=[];for(s=0;s<e.BYTES_PER_ELEMENT;s+=1)f.push(t(a,s));Boolean(i)===Boolean(o)&&f.reverse(),u=new Uint8Array(this.buffer,n,e.BYTES_PER_ELEMENT),u.set(f)}}var o=function(){var e=new n.Uint16Array([4660]),r=new n.Uint8Array(e.buffer);return 18===t(r,0)}(),s=function(t,e,n){if(0===arguments.length)t=new ArrayBuffer(0);else if(!(t instanceof ArrayBuffer||"ArrayBuffer"===D.Class(t)))throw new TypeError("TypeError");if(this.buffer=t||new ArrayBuffer(0),this.byteOffset=D.ToUint32(e),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:D.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");r(this)};s.prototype.getUint8=e(n.Uint8Array),s.prototype.getInt8=e(n.Int8Array),s.prototype.getUint16=e(n.Uint16Array),s.prototype.getInt16=e(n.Int16Array),s.prototype.getUint32=e(n.Uint32Array),s.prototype.getInt32=e(n.Int32Array),s.prototype.getFloat32=e(n.Float32Array),s.prototype.getFloat64=e(n.Float64Array),s.prototype.setUint8=i(n.Uint8Array),s.prototype.setInt8=i(n.Int8Array),s.prototype.setUint16=i(n.Uint16Array),s.prototype.setInt16=i(n.Int16Array),s.prototype.setUint32=i(n.Uint32Array),s.prototype.setInt32=i(n.Int32Array),s.prototype.setFloat32=i(n.Float32Array),s.prototype.setFloat64=i(n.Float64Array),n.DataView=n.DataView||s}()},{}]},{},[]),e.exports=t("native-buffer-browserify").Buffer},{}],27:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],28:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],29:[function(t,e,n){function r(t,e){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,t,r.depth)}function i(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function o(t){return t}function s(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&B(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return w(i)||(i=u(t,i,r)),i}var o=c(t,e);if(o)return o;var y=Object.keys(e),d=s(y);if(t.showHidden&&(y=Object.getOwnPropertyNames(e)),E(e)&&(y.indexOf("message")>=0||y.indexOf("description")>=0))return a(e);if(0===y.length){if(B(e)){var _=e.name?": "+e.name:"";return t.stylize("[Function"+_+"]","special")}if(m(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(S(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return a(e)}var g="",b=!1,v=["{","}"];if(p(e)&&(b=!0,v=["[","]"]),B(e)){var k=e.name?": "+e.name:"";g=" [Function"+k+"]"}if(m(e)&&(g=" "+RegExp.prototype.toString.call(e)),S(e)&&(g=" "+Date.prototype.toUTCString.call(e)),E(e)&&(g=" "+a(e)),0===y.length&&(!b||0==e.length))return v[0]+g+v[1];if(0>r)return m(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return x=b?f(t,e,r,d,y):y.map(function(n){return l(t,e,r,d,n,b)}),t.seen.pop(),h(x,g,v)}function c(t,e){if(v(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],s=0,u=e.length;u>s;++s)o.push(A(e,String(s))?l(t,e,n,r,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(t,e,n,r,i,!0))}),o}function l(t,e,n,r,i,o){var s,c,a;if(a=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},a.get?c=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(c=t.stylize("[Setter]","special")),A(r,i)||(s="["+i+"]"),c||(t.seen.indexOf(a.value)<0?(c=d(n)?u(t,a.value,null):u(t,a.value,n-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return c;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function h(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function d(t){return null===t}function _(t){return null==t}function g(t){return"number"==typeof t}function w(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function v(t){return void 0===t}function m(t){return k(t)&&"[object RegExp]"===T(t)}function k(t){return"object"==typeof t&&null!==t}function S(t){return k(t)&&"[object Date]"===T(t)}function E(t){return k(t)&&("[object Error]"===T(t)||t instanceof Error)}function B(t){return"function"==typeof t}function x(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function D(t){return 10>t?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[D(t.getHours()),D(t.getMinutes()),D(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var U=t("__browserify_process"),z="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},I=/%[sdj%]/g;n.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),u=i[n];o>n;u=i[++n])s+=d(u)||!k(u)?" "+u:" "+r(u);return s},n.deprecate=function(t,e){function r(){if(!i){if(U.throwDeprecation)throw new Error(e);U.traceDeprecation?console.trace(e):console.error(e),i=!0}return t.apply(this,arguments)}if(v(z.process))return function(){return n.deprecate(t,e).apply(this,arguments)};if(U.noDeprecation===!0)return t;var i=!1;return r};var M,O={};n.debuglog=function(t){if(v(M)&&(M=U.env.NODE_DEBUG||""),t=t.toUpperCase(),!O[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var e=U.pid;O[t]=function(){var r=n.format.apply(n,arguments);console.error("%s %d: %s",t,e,r)}}else O[t]=function(){};return O[t]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=y,n.isNull=d,n.isNullOrUndefined=_,n.isNumber=g,n.isString=w,n.isSymbol=b,n.isUndefined=v,n.isRegExp=m,n.isObject=k,n.isDate=S,n.isError=E,n.isFunction=B,n.isPrimitive=x,n.isBuffer=t("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},{"./support/isBuffer":28,__browserify_process:27,inherits:25}],30:[function(t,e,n){(function(){n.transform=function(t,e){return t.icedTransform(e)},n.runtime=t("iced-runtime")}).call(this)},{"iced-runtime":33}],31:[function(t,e){(function(){e.exports={k:"__iced_k",k_noop:"__iced_k_noop",param:"__iced_p_",ns:"iced",runtime:"runtime",Deferrals:"Deferrals",deferrals:"__iced_deferrals",fulfill:"_fulfill",b_while:"_break",t_while:"_while",c_while:"_continue",n_while:"_next",n_arg:"__iced_next_arg",defer_method:"defer",slot:"__slot",assign_fn:"assign_fn",autocb:"autocb",retslot:"ret",trace:"__iced_trace",passed_deferral:"__iced_passed_deferral",findDeferral:"findDeferral",lineno:"lineno",parent:"parent",filename:"filename",funcname:"funcname",catchExceptions:"catchExceptions",runtime_modes:["node","inline","window","none","browserify"],trampoline:"trampoline",context:"context"}}).call(this)},{}],32:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f=[].slice;o=s=function(){},e=t("./const"),n.iced=i=t("./runtime"),a=function(t,e,n,r){var o,u,c,a,l,h;h=s,a=i.findDeferral(arguments),u=new i.Rendezvous,r[0]=u.id(!0).defer({assign_fn:function(){return function(){return function(){return o=f.call(arguments,0)}}}(this)(),lineno:20,context:l}),setTimeout(u.id(!1).defer({lineno:21,context:l}),e),function(){return function(t){l=new i.Deferrals(t,{parent:a,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),u.wait(l.defer({assign_fn:function(){return function(){return c=arguments[0]}}(),lineno:22})),l._fulfill()}}(this)(function(){return function(){return n&&(n[0]=c),t.apply(null,o)}}(this))},n.timeout=function(t,e,n){var r;return r=[],a(t,e,n,r),r[0]},u=function(t,e,n){var r,o,u,c;c=s,o=i.findDeferral(arguments),function(){return function(t){u=new i.Deferrals(t,{parent:o,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),n[0]=u.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:39}),u._fulfill()}}(this)(function(){return function(){return r||(e[0]=!1),t()}}(this))},n.iand=function(t,e){var n;return n=[],u(t,e,n),n[0]},c=function(t,e,n){var r,o,u,c;c=s,o=i.findDeferral(arguments),function(){return function(t){u=new i.Deferrals(t,{parent:o,filename:"/Users/max/src/iced/iced-runtime/src/library.iced"}),n[0]=u.defer({assign_fn:function(){return function(){return r=arguments[0]}}(),lineno:58}),u._fulfill()}}(this)(function(){return function(){return r&&(e[0]=!0),t()}}(this))},n.ior=function(t,e){var n;return n=[],c(t,e,n),n[0]},n.Pipeliner=r=function(){function t(t,n){this.window=t||1,this.delay=n||0,this.queue=[],this.n_out=0,this.cb=null,this[e.deferrals]=this,this.defer=this._defer}return t.prototype.waitInQueue=function(t){var e,n,r;r=s,e=i.findDeferral(arguments),function(t){return function(r){var o,s;o=[],(s=function(r){var u,c,a;return u=function(){return r(o)},c=function(){return i.trampoline(function(){return s(r)})},a=function(t){return o.push(t),c()},t.n_out>=t.window?void!function(r){n=new i.Deferrals(r,{parent:e,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),t.cb=n.defer({lineno:100}),n._fulfill()}(a):u()})(r)}}(this)(function(r){return function(){r.n_out++,function(t){return r.delay?void!function(t){n=new i.Deferrals(t,{parent:e,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.waitInQueue"}),setTimeout(n.defer({lineno:108}),r.delay),n._fulfill()}(t):t()}(function(){return t()})}}(this))},t.prototype.__defer=function(t,e){var n,r,o,u,c;c=s,o=i.findDeferral(arguments),function(){return function(n){u=new i.Deferrals(n,{parent:o,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.__defer"}),r=u.defer({lineno:122}),t[0]=function(){var t,n;return t=1<=arguments.length?f.call(arguments,0):[],null!=(n=e.assign_fn)&&n.apply(null,t),r()},u._fulfill()}}(this)(function(t){return function(){return t.n_out--,t.cb?(n=t.cb,t.cb=null,n()):void 0}}(this))},t.prototype._defer=function(t){var e;return e=[],this.__defer(e,t),e[0]},t.prototype.flush=function(t){var e,n,r,o;n=t,e=i.findDeferral(arguments),r=[],(o=function(t){var n;return function(s){var u,c,a;return u=function(){return s(r)},c=function(){return i.trampoline(function(){return o(s)})},a=function(t){return r.push(t),c()},t.n_out?void!function(r){n=new i.Deferrals(r,{parent:e,filename:"/Users/max/src/iced/iced-runtime/src/library.iced",funcname:"Pipeliner.flush"}),t.cb=n.defer({lineno:151}),n._fulfill()}(a):u()}}(this))(n)},t}()}).call(this)},{"./const":31,"./runtime":34}],33:[function(t,e,n){(function(){var e,r,i,o,s,u;for(n["const"]=t("./const"),i=[t("./runtime"),t("./library")],s=0,u=i.length;u>s;s++){r=i[s];for(e in r)o=r[e],n[e]=o}}).call(this)},{"./const":31,"./library":32,"./runtime":34}],34:[function(t,e,n){var r=t("__browserify_process");(function(){var e,i,o,s,u,c,a,f,l,h,p,y,d,_=[].slice;e=t("./const"),c=function(t,n,r,i,o){var s,u,c,a;c={};for(s in i)a=i[s],c[s]=a;return c[e.lineno]=null!=n?n[e.lineno]:void 0,u=function(){var e,i,s;return e=1<=arguments.length?_.call(arguments,0):[],null!=n&&null!=(s=n.assign_fn)&&s.apply(null,e),t?(i=t,o||(t=null),i._fulfill(r,c)):h("overused deferral at "+intern._trace_to_string(c))},u[e.trace]=c,u},y=0,f=function(t){return y++,y%t===0?(y=0,!0):!1},p=null,d=function(t){var n;return n=t[e.funcname]||"<anonymous>",""+n+" ("+t[e.filename]+":"+(t[e.lineno]+1)+")"},h=function(t){return"undefined"!=typeof console&&null!==console?console.error("ICED warning: "+t):void 0},n.trampoline=l=function(t){return f(500)?"undefined"!=typeof r&&null!==r?r.nextTick(t):setTimeout(t):t()},n.Deferrals=i=function(){function t(t,e){this.trace=e,this.continuation=t,this.count=1,this.ret=null}return t.prototype._call=function(t){var e;return this.continuation?(p=t,e=this.continuation,this.continuation=null,e(this.ret)):h("Entered dead await at "+d(t))},t.prototype._fulfill=function(t,e){return--this.count>0?void 0:l(function(t){return function(){return t._call(e)}}(this))},t.prototype.defer=function(t){var e;return this.count++,e=this,c(e,t,null,this.trace)},t}(),n.findDeferral=u=function(t){
var n,r,i;for(r=0,i=t.length;i>r;r++)if(n=t[r],null!=n?n[e.trace]:void 0)return n;return null},n.Rendezvous=o=function(){function t(){this.completed=[],this.waiters=[],this.defer_id=0}var e;return e=function(){function t(t,e,n){this.rv=t,this.id=e,this.multi=n}return t.prototype.defer=function(t){return this.rv._defer_with_id(this.id,t,this.multi)},t}(),t.prototype.wait=function(t){var e;return this.completed.length?(e=this.completed.shift(),t(e)):this.waiters.push(t)},t.prototype.defer=function(t){var e;return e=this.defer_id++,this._defer_with_id(e,t)},t.prototype.id=function(t,n){return n=!!n,new e(this,t,n)},t.prototype._fulfill=function(t){var e;return this.waiters.length?(e=this.waiters.shift())(t):this.completed.push(t)},t.prototype._defer_with_id=function(t,e,n){return this.count++,c(this,e,t,{},n)},t}(),n.stackWalk=a=function(t){var n,r,i,o;for(r=[],i=t?t[e.trace]:p;i;)n="   at "+d(i),r.push(n),i=null!=i&&null!=(o=i[e.parent])?o[e.trace]:void 0;return r},n.exceptionHandler=s=function(t,e){var n;return e||(e=console.error),e(t.stack),n=a(),n.length?(e("Iced 'stack' trace (w/ real line numbers):"),e(n.join("\n"))):void 0},n.catchExceptions=function(t){return"undefined"!=typeof r&&null!==r?r.on("uncaughtException",function(e){return s(e,t),r.exit(1)}):void 0}}).call(this)},{"./const":31,__browserify_process:27}],35:[function(t,e,n){(function(){var e,r,i,o,s,u,c,a,f,l,h,p=[].slice;h=t("util"),n.BaseError=e=function(t){return Error.captureStackTrace(this,this.constructor),this.message=t||"Error"},h.inherits(e,Error),e.prototype.name="BaseError",l=function(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()},s=function(t){var e;return function(){var n,r,i,o;for(i=t.split(/_/),o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(l(e));return o}().join("")},c=function(t,n,r){var i;return i=function(t){return e.call(this,t||r,this.constructor),this.istack=[],this.code=n,this},h.inherits(i,e),i.prototype.name=t,i.prototype.inspect=function(){return"["+t+": "+this.message+" (code "+this.code+")]"},i},n.make_errors=a=function(t){var e,n,r,i,o,u;o={msg:{},name:{},code:{}},t.OK="Success",n=100;for(r in t)i=t[r],"OK"!==r?(e=s(r)+"Error",u=n++,o[e]=c(e,u,i)):u=0,o[r]=u,o.msg[r]=o.msg[u]=i,o.name[r]=o.name[u]=r,o.code[r]=u;return o},u=function(t,e){return null!=e?(null==t.istack&&(t.istack=[]),t.istack.push(e)):void 0},n.make_esc=f=function(t,e){return function(n){return function(){var r,i;return i=arguments[0],r=2<=arguments.length?p.call(arguments,1):[],null==i?n.apply(null,r):t.__esc?void 0:(t.__esc=!0,u(i,e),t(i))}}},n.EscOk=o=function(){function t(t,e){this.gcb=t,this.where=e}return t.prototype.bailout=function(){var t;return this.gcb?(t=this.gcb,this.gcb=null,t(!1)):void 0},t.prototype.check_ok=function(t){return function(e){return function(){var n,r;return r=arguments[0],n=2<=arguments.length?p.call(arguments,1):[],r?t.apply(null,n):e.bailout()}}(this)},t.prototype.check_err=function(t){return function(e){return function(){var n,r;return r=arguments[0],n=2<=arguments.length?p.call(arguments,1):[],null!=r?(u(r,e.where),e.bailout()):t.apply(null,n)}}(this)},t.prototype.check_non_null=function(t){return function(e){return function(){var n;return n=1<=arguments.length?p.call(arguments,0):[],null==n[0]?e.bailout():t.apply(null,n)}}(this)},t}(),n.EscErr=i=function(){function t(t,e){this.gcb=t,this.where=e}return t.prototype.finish=function(t){var e;return this.gcb?(e=this.gcb,this.gcb=null,e(t)):void 0},t.prototype.check_ok=function(t,e,n){return null==e&&(e=Error),null==n&&(n=null),function(){var r,i,o;return o=arguments[0],r=2<=arguments.length?p.call(arguments,1):[],o?t.apply(null,r):(i=new e(n),u(i,this.where),this.finish(i))}},t.prototype.check_err=function(t){return function(){var e,n;return n=arguments[0],e=2<=arguments.length?p.call(arguments,1):[],null!=n?(u(n,this.where),this.finish(n)):t.apply(null,e)}},t}(),n.Canceler=r=function(){function t(t){this.klass=null!=t?t:Error,this._canceled=!1}return t.prototype.is_canceled=function(){return this._canceled},t.prototype.is_ok=function(){return!this._canceled},t.prototype.cancel=function(){return this._canceled=!0},t.prototype.err=function(){return this._canceled?new this.klass("Aborted"):null},t}(),n.chain=function(t,e){return function(){var n;return n=1<=arguments.length?p.call(arguments,0):[],e(function(){return t.apply(null,n)})}},n.chain_err=function(t,e){return function(){var n;return n=1<=arguments.length?p.call(arguments,0):[],e(function(){var e;return e=1<=arguments.length?p.call(arguments,0):[],t.apply(null,null!=e[0]&&null==n[0]?e:n)})}}}).call(this)},{util:29}],36:[function(t,e){e.exports=t(31)},{}],37:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{"./const":36,"./runtime":39}],38:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./const":36,"./library":37,"./runtime":39}],39:[function(t,e){e.exports=t(34)},{"./const":36,__browserify_process:27}],40:[function(t,e,n){(function(){var e,r,i,o;r=t("iced-coffee-script/lib/coffee-script/iced").runtime,i=o=function(){},e=e=function(){function t(t){t=t||{},this.loop_delay=t.loop_delay||10,this.work_min=t.work_min||1,this.auto_stop_bits=t.auto_stop_bits||4096,this.max_bits_per_delta=t.max_bits_per_delta||4,this.entropies=[],this.running=!0,this.timer_race_loop()}return t.prototype.generate=function(t,e){var n,i,s,u,c,a,f=this;a=o,u=r.findDeferral(arguments),i=0,s=[],function(e){var o,a;o=[],(a=function(e){var l,h,p;return l=function(){return e(o)},h=function(){return r.trampoline(function(){return a(e)})},p=function(t){return o.push(t),h()},t>i?void!function(t){return f.entropies.length?(n=f.entropies.splice(0,1)[0],i+=n[1],t(s.push(n[0]))):void!function(t){c=new r.Deferrals(t,{parent:u,filename:"src/generator.iced",funcname:"Generator.generate"}),setTimeout(c.defer({lineno:22}),f.loop_delay),c._fulfill()}(t)}(p):l()})(e)}(function(){return e(s)})},t.prototype.stop=function(){return this.running=!1},t.prototype.resume=function(){return this.running=!0},t.prototype.reset=function(){return this.entropies=[],this.total_bits=0},t.prototype.count_unused_bits=function(){var t,e,n,r,i;for(t=0,i=this.entropies,n=0,r=i.length;r>n;n++)e=i[n],t+=e[1];return t},t.prototype.timer_race_loop=function(){var t,e,n,i,s,u,c,a,f,l=this;c=o,s=r.findDeferral(arguments),this._last_count=null,a=[],(f=function(o){var c,h,p;c=function(){return o(a)},h=function(){return r.trampoline(function(){return f(o)})},p=function(t){return a.push(t),h()},l.running&&l.count_unused_bits()<l.auto_stop_bits&&(t=l.millisecond_count(),null!=l._last_count&&(e=t-l._last_count)&&(n=Math.floor(l.log_2(Math.abs(e))),n=Math.min(l.max_bits_per_delta,n),i=[e,n],l.entropies.push(i)),l._last_count=t),function(t){u=new r.Deferrals(t,{parent:s,filename:"src/generator.iced",funcname:"Generator.timer_race_loop"}),setTimeout(u.defer({lineno:48}),l.loop_delay),u._fulfill()}(p)})(c)},t.prototype.log_2=function(t){return Math.log(t)/Math.LN2},t.prototype.millisecond_count=function(){var t,e,n;for(t=Date.now(),e=n=0;Date.now()<t+this.work_min+1;)e++,n=Math.sin(Math.sqrt(Math.log(e+n)));return e},t}(),"undefined"!=typeof window&&null!==window&&(window.Generator=e),"undefined"!=typeof n&&null!==n&&(n.Generator=e)}).call(this)},{"iced-coffee-script/lib/coffee-script/iced":30}],41:[function(t,e,n){(function(){n.Generator=t("../lib/generator").Generator}).call(this)},{"../lib/generator":40}]},{},[10])(10)}),/*!
 * clipboard.js v1.5.10
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT © Zeno Rocha
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(r(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function r(t,e,n,r,o){var s=i.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}function i(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e,!0),n.delegateTarget&&r.call(t,n)}}var o=t("closest");e.exports=r},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!u.string(e))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(t))return i(t,e,n);if(u.nodeList(t))return o(t,e,n);if(u.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return c(document.body,t,e,n)}var u=t("./is"),c=t("delegate");e.exports=r},{"./is":3,delegate:2}],5:[function(t,e,n){function r(t,e){if(o)return o.call(t,e);for(var n=t.parentNode.querySelectorAll(e),r=0;r<n.length;++r)if(n[r]==t)return!0;return!1}var i=Element.prototype,o=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=r},{}],6:[function(t,e,n){function r(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}e.exports=r},{}],7:[function(t,e,n){function r(){}r.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;i>r;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;s>o;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},e.exports=r},{}],8:[function(e,n,r){!function(i,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if("undefined"!=typeof r)o(n,e("select"));else{var s={exports:{}};o(s,i.select),i.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,i["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},s(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=u})},{select:6}],9:[function(e,n,r){!function(i,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if("undefined"!=typeof r)o(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};o(s,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=s.exports}}(this,function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;return e.hasAttribute(n)?e.getAttribute(n):void 0}var a=i(e),f=i(n),l=i(r),h=function(t){function e(n,r){o(this,e);var i=s(this,t.call(this));return i.resolveOptions(r),i.listenClick(n),i}return u(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,l["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return c("action",t)},e.prototype.defaultTarget=function(t){var e=c("target",t);return e?document.querySelector(e):void 0},e.prototype.defaultText=function(t){return c("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(f["default"]);t.exports=h})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),function(t){"use strict";var e=t.querySelector("#app");e.components={login:"geo-login",dash:"geo-dash",feed:"geo-feed",create:"geo-create",settings:"geo-settings"},e.elements={login:"mainLogin",loginData:"firebaseLogin",userData:"firebaseUserData",main:"mainContainer",bar:"mainToolbar",editor:"editor",feed:"mainFeed",collection:"mainCollection",create:"mainCreate",profilePic:"profilePic",profileDialog:""},e.data={uid:"",userName:"",email:"",profileImg:""},e.baseUrl="/",""===window.location.port&&(e.baseUrl="/geoji/"),e.user={hideLogin:!1,noAccess:!0,test:"sadasdasdasdcmsdn"},e.displayInstalledToast=function(){Polymer.dom(t).querySelector("platinum-sw-cache").disabled||Polymer.dom(t).querySelector("#caching-complete").show()},e.addEventListener("dom-change",function(){console.log("Geoji ready to rock!"),setTimeout(function(){e.hide("mainApp")},50)}),window.addEventListener("WebComponentsReady",function(){}),window.addEventListener("paper-header-transform",function(e){var n=Polymer.dom(t).querySelector("#mainToolbar .app-name"),r=Polymer.dom(t).querySelector("#mainToolbar .middle-container"),i=Polymer.dom(t).querySelector("#mainToolbar .bottom-container"),o=e.detail,s=o.height-o.condensedHeight,u=Math.min(1,o.y/s),c=.5,a=s-o.y,f=s/(1-c),l=Math.max(c,a/f+c),h=1-u;Polymer.Base.transform("translate3d(0,"+100*u+"%,0)",r),Polymer.Base.transform("scale("+h+") translateZ(0)",i),Polymer.Base.transform("scale("+l+") translateZ(0)",n)}),e.lastRoute=["home","home"],e.setLastRoute=function(t){e.lastRoute.unshift(t),e.lastRoute.length>2&&e.lastRoute.pop()},e.getLastRoute=function(){return e.lastRoute[1]},e.component=function(e){var n=t.querySelector(e);return null!==n?n:(console.log("web component "+e+" doesn't exist and cant be wired."),null)},e.element=function(e){return t.querySelector("#"+e)},e.feed=function(){return e.element(e.elements.feed)},e.editor=function(){return e.element(e.elements.editor)},e.create=function(){return e.element(e.elements.create)},e.setAttr=function(t,n,r){e.$[t][n]=r},e.setStyle=function(t,n,r){var i=e.element(this.id);i.style[n]=r},e.call=function(t,n,r){var i=e.element(t);i[n](r)},e.getProp=function(t,n){var r=e.element(t);return r[n]},e.scrollPageToTop=function(){e.$.headerPanelMain.scrollToTop(!0)},e.closeDrawer=function(){e.$.paperDrawerPanel.closeDrawer()},e.hide=function(t){e.$[t].hidden=!0},e.show=function(t){e.$[t].hidden=!1},e.loginCtrl=function(){var n=t.querySelector(e.components.login);if(null!==n){var r=n.getLoggedIn();return!r}setTimeout(function(){e.loginCtrl()},100)},e.getUser=function(){return e.element(e.elements.login).user},e.setUserData=function(t,n){console.log("setting user data: "+t+" to "+n);var r=e.element(e.elements.userData),i={};i[t]=n,null!==r&&(console.log(r.data),r.data=i)},e.logout=function(){e.component("geoji-feed").clearFeed(),e.element(e.elements.login).logout(),e.close(),location.reload()},e.mainMap=function(t,n){var r=e.element("mainMap");e.element("mainLogin");t?(e.show("mainMap"),r.loadGeoji(n),setTimeout(function(){r.refresh()},1e3)):e.hide("mainMap")},e.geoji=function(t){t?(e.hide("mainApp"),e.show("geoji")):(e.hide("geoji"),e.show("mainApp"))},e.launch=function(){e.hide("loginUI"),e.show("mainApp")},e.close=function(){e.hide("mainApp"),e.show("loginUI")}}(document);