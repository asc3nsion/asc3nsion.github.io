<!-- 
This is an element button for google auth using firebase api
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-auth.html">

<dom-module id= "inputs-firebase">
	<template>
	<firebase-auth id="firebaseLogin" user="{{user}}" status-known="{{statusKnown}}" location="https://geoji.firebaseio.com" provider="{{provider}}" on-error="errorHandler" on-user-created="userSuccessHandler" on-password-changed="userSuccessHandler" on-password-reset="userSuccessHandler" on-user-removed="userSuccessHandler"></firebase-auth>
		
	</template>
</dom-module>

<script>
	Polymer({
		is: "inputs-firebase",
		properties: {
			firebase: {
				type:String,
				value: ""
			},
			provider : {
				type : String,
				value : ""
			},
			email : {
				type : String,
				value : ""
			},
			password : {
				type : String,
				value : ""
			},
			user : {
				type: Object,
				value : null
			},
			statusKnown: {
				type: Boolean
			},
			callBack: {
				type: Function,
				value: undefined
			}
		},
		login: function(params){

			var params;
		    try {
		      params = JSON.parse(this.params);
		    } catch (e) {
		      params = null;
		    }
		    if (this.provider == 'password') {
		      params = params || {};
		      params.email = this.email;
		      params.password = this.password;
		    }
		    this.$.firebaseLogin.login(params);

		}
	});
</script>
